{"version":3,"sources":["webpack:///../../../node_modules/tslib/tslib.es6.js","webpack:///../../../node_modules/any-event/dist/index.es.js","webpack:///../node_modules/@any-touch/shared/dist/index.es.js","webpack:///../node_modules/@any-touch/core/dist/index.es.js","webpack:///../node_modules/@any-touch/recognizer/dist/index.es.js","webpack:///../node_modules/@any-touch/vector/dist/index.es.js","webpack:///../node_modules/@any-touch/compute/dist/index.es.js","webpack:///../node_modules/@any-touch/tap/dist/index.es.js","webpack:///../node_modules/@any-touch/pan/dist/index.es.js","webpack:///../node_modules/@any-touch/swipe/dist/index.es.js","webpack:///../node_modules/@any-touch/press/dist/index.es.js","webpack:///../node_modules/@any-touch/pinch/dist/index.es.js","webpack:///../node_modules/@any-touch/rotate/dist/index.es.js","webpack:///../node_modules/any-touch/dist/index.es.js","webpack:///../../load-image/src/index.ts","webpack:///../../photo/src/index.ts","webpack:///../src/index.ts","webpack:///./src/views/PhotoTouch.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/PhotoTouch.vue?8c1d","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/PhotoTouch.vue?36e7","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/modules/es.global-this.js","webpack:///./src/views/ButtonLoadFile.vue?7924","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./src/views/ButtonLoadFile.vue","webpack:///./src/views/loadImage.js","webpack:///./src/views/ButtonLoadFile.vue?2c99","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","__read","r","ar","error","default_1","listenersMap","on","eventName","listener","beforeEmit","e_1","_a","eventNames","isArray","eventNames_1","eventNames_1_1","name","e_1_1","return","emit","payload","e_2","listeners","listeners_1","listeners_1_1","e_2_1","off","index","findIndex","fn","splice","destroy","ObjectToString","toString","isRegExp","input","isFunction","IS_WX","window","wx","CLIENT_X","CLIENT_Y","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_CANCEL","INPUT_END","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","NONE","TOUCH","MOUSE","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","MOUSE_UP","MOUSE_MOVE","MOUSE_DOWN","STATUS_POSSIBLE","STATUS_START","STATUS_MOVE","STATUS_END","STATUS_RECOGNIZED","STATUS_FAILED","STATUS_CANCELLED","round2","Math","round","inputCreator","prevInput","activeInput","startInput","startMultiInput","id","basicsInput","Number","MAX_SAFE_INTEGER","pureInput","extendInput","isStart","pointLength","getCenter","points","clientX","clientY","x","countPoint","reduce","point","stage","changedPoints","nativeEvent","isEnd","timestamp","Date","now","currentTarget","getOffset","el","rect","getBoundingClientRect","left","top","mouse","prevPoints","isPressed","_target","createInput","event","type","button","target","targets","touch","from","touches","forEach","contains","changedTouches","map","replace","dispatchDomEvent","eventInit","data","document","createEvent","initEvent","bubbles","cancelable","Event","match","every","dispatchEvent","canPreventDefault","options","isPreventDefault","preventDefaultExclude","tagName","test","TOUCH_EVENTS","bindElement","catchEvent","addEventListener","removeEventListener","use","atOrAT","Recognizer","recognizerOptions","recognizerMap","recognizer","_b","computeFunctions","_c","createComputeFunction","_id","computeFunctionMap","recognizers","removeUse","recognizerName","entries","_d","AT_AFTER","emit2","at","domEvents","_type","DEFAULT_OPTIONS","AnyTouch","_super","_this","k","cacheComputedFunctionGroup","createInputFromTouch","createInputFromMouse","inputCreatorMap","style","webkitTapHighlightColor","supportsPassive_1","opts","defineProperty","get","bind","passive","preventDefault","AT","AT_WITH_STATUS","computed_1","_loop_1","disabled","recognize","baseType","freeze","beforeEachHook","beforeEach","hook","set","version","AnyEvent","resetStatus","status","flow","isVaild","lastStatus","_e","_f","_g","STATE_MAP","1","0","stageToStatusMap","recognizeForPressMoveLike","computed","isRecognized","includes","isValidPointLength","getVLength","sqrt","getDotProduct","v1","v2","getRadian","mr","acos","getCross","radianToAngle","radian","PI","getAngle","angle","getDirection","abs","computeVector","_computeVectorForMutli","startV","prevV","activeV","ComputeAngle","_vs","deltaAngle","ComputeDeltaXY","deltaX","deltaY","deltaXYAngle","deltaXY","pow","ComputeDistance","displacementX","displacementY","distanceX","distanceY","distance","overallDirection","ComputeMaxLength","maxPointLength","ComputeScale","deltaScale","scale","ComputeVAndDir","direction","_lastValidInput","velocityX","velocityY","speedX","speedY","deltaTime","tapTimes","waitNextTapTime","maxDistance","maxDistanceFromPrevTap","maxPressTime","tapCount","_isValidDistanceFromPrevTap","center","prevTapPoint","distanceFromPreviousTap","_isValidInterval","performance","prevTapTime","interval","cancelCountDownToFail","reset","countDownToFail","_countDownToFailTimer","setTimeout","clearTimeout","threshold","velocity","max","minPressTime","resetStatusForPressMoveLike","cancel","_timeoutId","Tap","Pan","Swipe","Press","Pinch","Rotate","Core","class","ref","loading","img","photoTouch","zoom","rotate","togglePreview","isShowLine","onImageLoaded","toDataURL","src","dataURL","offset","moveTo","$event","org","changeOrg","zoomTo","min","rotateTo","_arrayWithoutHoles","arr","arrayLikeToArray","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","components","ButtonLoadFile","overlayImgs","activeOverlay","width","height","background","lineOverlays","previewOverlays","watch","changeOverlay","changeBackground","mounted","$refs","canvas","methods","$nextTick","console","log","source","changeImg","render","$","$reduce","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","proto","forced","callbackfn","undefined","classof","regexpExec","module","exports","R","S","exec","global","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","String","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","regexp","res","rx","functionalReplace","fullUnicode","unicode","lastIndex","results","matchStr","accumulatedResult","nextSourcePosition","matched","position","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","getSubstitution","slice","str","tailPos","symbols","ch","capture","charAt","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","trim","globalThis","_typeof","obj","isObject","dummy","Wrapper","NewTarget","NewTargetPrototype","regexpFlags","stickyHelpers","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","re","sticky","flags","charsAdded","strCopy","multiline","fails","RE","accept","multiple","onChange","cache","url","Image","onload","onerror","props","cropSize","default","cropRate","readFile","file","reader","FileReader","readAsDataURL","loadImage","crop","fileName","files","array","all","$emit","createElement","context","getContext","rate","sourceWidth","sourceHeight","sourceY","sourceX","cropAxis","args","drawImage","toAbsoluteIndex","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","A","to","len","actualStart","argumentsLength","$every","METHOD_NAME","argument","method","DESCRIPTORS","isForced","redefine","has","inheritIfRequired","toPrimitive","getOwnPropertyNames","getOwnPropertyDescriptor","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","first","third","radix","maxCode","digits","code","charCodeAt","NaN","parseInt","key","NumberWrapper","valueOf","keys","split","stat","isExtensible","preventExtensions","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","$includes","aFunction","IndexedObject","IS_RIGHT","that","memo","self","right","wellKnownSymbol","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","a","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","arg","$map","FREEZING","onFreeze","nativeFreeze","FAILS_ON_PRIMITIVES","hiddenKeys","uid","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","meta","REQUIRED"],"mappings":"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","file":"js/PhotoTouch.ebba870d.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __values } from 'tslib';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n        this.listenersMap = {};\r\n    }\r\n    default_1.prototype.on = function (eventName, listener, beforeEmit) {\r\n        var e_1, _a;\r\n        var eventNames = Array.isArray(eventName) ? eventName : [eventName];\r\n        try {\r\n            for (var eventNames_1 = __values(eventNames), eventNames_1_1 = eventNames_1.next(); !eventNames_1_1.done; eventNames_1_1 = eventNames_1.next()) {\r\n                var name = eventNames_1_1.value;\r\n                if (void 0 === this.listenersMap[name]) {\r\n                    this.listenersMap[name] = [];\r\n                }\r\n                listener.beforeEmit = beforeEmit;\r\n                this.listenersMap[name].push(listener);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (eventNames_1_1 && !eventNames_1_1.done && (_a = eventNames_1.return)) _a.call(eventNames_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.emit = function (eventName, payload) {\r\n        var e_2, _a;\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners && 0 < listeners.length) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    if (void 0 === listener.beforeEmit) {\r\n                        listener(payload);\r\n                    }\r\n                    else if (void 0 !== payload && listener.beforeEmit(payload)) {\r\n                        listener(payload);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.off = function (eventName, listener) {\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners) {\r\n            if (void 0 === listener) {\r\n                delete this.listenersMap[eventName];\r\n            }\r\n            else {\r\n                var index = listeners.findIndex(function (fn) { return fn === listener; });\r\n                listeners.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.destroy = function () {\r\n        this.listenersMap = {};\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\n","var ObjectToString = Object.prototype.toString;\r\nfunction isRegExp(input) {\r\n    return '[object RegExp]' === ObjectToString.call(input);\r\n}\r\nfunction isFunction(input) {\r\n    return '[object Function]' === ObjectToString.call(input);\r\n}\n\nvar IS_WX = !!window.wx;\r\nvar CLIENT_X = 'clientX';\r\nvar CLIENT_Y = 'clientY';\r\nvar COMPUTE_INTERVAL = 16;\r\nvar INPUT_START = 'start';\r\nvar INPUT_MOVE = 'move';\r\nvar INPUT_CANCEL = 'cancel';\r\nvar INPUT_END = 'end';\r\nvar DIRECTION_LEFT = 'left';\r\nvar DIRECTION_RIGHT = 'right';\r\nvar DIRECTION_UP = 'up';\r\nvar DIRECTION_DOWN = 'down';\r\nvar NONE = 'none';\r\nvar TOUCH = 'touch';\r\nvar MOUSE = 'mouse';\r\nvar TOUCH_START = TOUCH + INPUT_START;\r\nvar TOUCH_MOVE = TOUCH + INPUT_MOVE;\r\nvar TOUCH_END = TOUCH + INPUT_END;\r\nvar TOUCH_CANCEL = TOUCH + INPUT_CANCEL;\r\nvar MOUSE_UP = MOUSE + DIRECTION_UP;\r\nvar MOUSE_MOVE = MOUSE + INPUT_MOVE;\r\nvar MOUSE_DOWN = MOUSE + DIRECTION_DOWN;\r\nvar STATUS_POSSIBLE = 'p';\r\nvar STATUS_START = INPUT_START;\r\nvar STATUS_MOVE = INPUT_MOVE;\r\nvar STATUS_END = INPUT_END;\r\nvar STATUS_RECOGNIZED = 'r';\r\nvar STATUS_FAILED = 'f';\r\nvar STATUS_CANCELLED = INPUT_CANCEL;\n\nfunction round2(n) {\r\n    return Math.round(n * 100) / 100;\r\n}\n\nexport { CLIENT_X, CLIENT_Y, COMPUTE_INTERVAL, DIRECTION_DOWN, DIRECTION_LEFT, DIRECTION_RIGHT, DIRECTION_UP, INPUT_CANCEL, INPUT_END, INPUT_MOVE, INPUT_START, IS_WX, MOUSE, MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, NONE, STATUS_CANCELLED, STATUS_END, STATUS_FAILED, STATUS_MOVE, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_START, TOUCH, TOUCH_CANCEL, TOUCH_END, TOUCH_MOVE, TOUCH_START, isFunction, isRegExp, round2 };\n","import { __assign, __rest, __values, __read, __extends } from 'tslib';\nimport AnyEvent from 'any-event';\nimport { INPUT_START, INPUT_END, INPUT_CANCEL, CLIENT_X, CLIENT_Y, MOUSE_DOWN, MOUSE_MOVE, INPUT_MOVE, MOUSE_UP, isRegExp, isFunction, IS_WX, TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL } from '@any-touch/shared';\n\nfunction inputCreator () {\r\n    var id = 0;\r\n    var prevInput;\r\n    var activeInput;\r\n    var startInput;\r\n    var startMultiInput;\r\n    return function (basicsInput) {\r\n        prevInput = activeInput;\r\n        if (void 0 !== basicsInput) {\r\n            id = Number.MAX_SAFE_INTEGER > id ? ++id : 1;\r\n            var pureInput = extendInput(basicsInput, id);\r\n            activeInput = pureInput;\r\n            var isStart = pureInput.isStart, pointLength = pureInput.pointLength;\r\n            if (isStart) {\r\n                startInput = pureInput;\r\n                prevInput = void 0;\r\n                if (1 < pointLength) {\r\n                    startMultiInput = pureInput;\r\n                }\r\n                else {\r\n                    startMultiInput = void 0;\r\n                }\r\n            }\r\n            return __assign(__assign({}, pureInput), { prevInput: prevInput, startMultiInput: startMultiInput, startInput: startInput });\r\n        }\r\n    };\r\n}\r\nfunction getCenter(points) {\r\n    var length = points.length;\r\n    if (0 < length) {\r\n        if (1 === length) {\r\n            var _a = points[0], clientX = _a.clientX, clientY = _a.clientY;\r\n            return { x: Math.round(clientX), y: Math.round(clientY) };\r\n        }\r\n        var countPoint = points.reduce(function (countPoint, point) {\r\n            countPoint.x += point[CLIENT_X];\r\n            countPoint.y += point[CLIENT_Y];\r\n            return countPoint;\r\n        }, { x: 0, y: 0 });\r\n        return { x: Math.round(countPoint.x / length), y: Math.round(countPoint.y / length) };\r\n    }\r\n}\r\nfunction extendInput(basicsInput, id) {\r\n    var stage = basicsInput.stage, points = basicsInput.points, changedPoints = basicsInput.changedPoints, nativeEvent = basicsInput.nativeEvent;\r\n    var pointLength = points.length;\r\n    var isStart = INPUT_START === stage;\r\n    var isEnd = (INPUT_END === stage && 0 === pointLength) || INPUT_CANCEL === stage;\r\n    var timestamp = Date.now();\r\n    var _a = getCenter(points) || getCenter(changedPoints), x = _a.x, y = _a.y;\r\n    var currentTarget = nativeEvent.currentTarget;\r\n    return Object.assign(basicsInput, {\r\n        id: id,\r\n        x: x, y: y,\r\n        timestamp: timestamp,\r\n        isStart: isStart, isEnd: isEnd,\r\n        pointLength: pointLength,\r\n        currentTarget: currentTarget,\r\n        getOffset: function (el) {\r\n            if (el === void 0) { el = currentTarget; }\r\n            var rect = el.getBoundingClientRect();\r\n            return { x: x - Math.round(rect.left), y: y - Math.round(rect.top) };\r\n        }\r\n    });\r\n}\n\nfunction mouse () {\r\n    var prevPoints;\r\n    var isPressed = false;\r\n    var _target = null;\r\n    var createInput = inputCreator();\r\n    return function (event) {\r\n        var clientX = event.clientX, clientY = event.clientY, type = event.type, button = event.button, target = event.target;\r\n        var points = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        var stage;\r\n        if (MOUSE_DOWN === type && 0 === button) {\r\n            _target = target;\r\n            isPressed = true;\r\n            stage = INPUT_START;\r\n        }\r\n        else if (isPressed) {\r\n            if (MOUSE_MOVE === type) {\r\n                stage = INPUT_MOVE;\r\n            }\r\n            else if (MOUSE_UP === type) {\r\n                points = [];\r\n                stage = INPUT_END;\r\n                isPressed = false;\r\n            }\r\n        }\r\n        var changedPoints = prevPoints || [{ clientX: clientX, clientY: clientY, target: target }];\r\n        prevPoints = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        if (void 0 !== stage) {\r\n            return createInput({\r\n                stage: stage,\r\n                changedPoints: changedPoints,\r\n                points: points,\r\n                target: _target,\r\n                targets: [_target],\r\n                nativeEvent: event\r\n            });\r\n        }\r\n    };\r\n}\n\nfunction touch (el) {\r\n    var createInput = inputCreator();\r\n    return function (event) {\r\n        var targets = [];\r\n        var points = [];\r\n        Array.from(event.touches).forEach(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            if (el === null || el === void 0 ? void 0 : el.contains(target)) {\r\n                targets.push(target);\r\n                points.push({ clientX: clientX, clientY: clientY, target: target });\r\n            }\r\n        });\r\n        var changedPoints = Array.from(event.changedTouches).map(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            return ({ clientX: clientX, clientY: clientY, target: target });\r\n        });\r\n        return createInput({\r\n            stage: event.type.replace('touch', ''),\r\n            changedPoints: changedPoints,\r\n            points: points,\r\n            nativeEvent: event,\r\n            target: event.target,\r\n            targets: targets\r\n        });\r\n    };\r\n}\n\nfunction dispatchDomEvent (el, payload, eventInit) {\r\n    var target = payload.target, currentTarget = payload.currentTarget, type = payload.type, data = __rest(payload, [\"target\", \"currentTarget\", \"type\"]);\r\n    var event;\r\n    if (document.createEvent) {\r\n        event = document.createEvent('HTMLEvents');\r\n        event.initEvent(type, eventInit === null || eventInit === void 0 ? void 0 : eventInit.bubbles, eventInit === null || eventInit === void 0 ? void 0 : eventInit.cancelable);\r\n    }\r\n    else {\r\n        event = new Event(type, eventInit);\r\n    }\r\n    Object.assign(event, data, {\r\n        match: function () {\r\n            return payload.targets.every(function (target) {\r\n                return event.currentTarget.contains(target);\r\n            });\r\n        }\r\n    });\r\n    return el.dispatchEvent(event);\r\n}\n\nfunction canPreventDefault (event, options) {\r\n    if (!options.isPreventDefault)\r\n        return false;\r\n    var isPreventDefault = true;\r\n    if (null !== event.target) {\r\n        var preventDefaultExclude = options.preventDefaultExclude;\r\n        if (isRegExp(preventDefaultExclude)) {\r\n            if ('tagName' in event.target) {\r\n                var tagName = event.target.tagName;\r\n                isPreventDefault = !preventDefaultExclude.test(tagName);\r\n            }\r\n        }\r\n        else if (isFunction(preventDefaultExclude)) {\r\n            isPreventDefault = !preventDefaultExclude(event);\r\n        }\r\n    }\r\n    return isPreventDefault;\r\n}\n\nvar TOUCH_EVENTS = [TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL];\r\nfunction bindElement (el, catchEvent, options) {\r\n    TOUCH_EVENTS.forEach(function (eventName) {\r\n        el.addEventListener(eventName, catchEvent, options);\r\n    });\r\n    if (!IS_WX) {\r\n        el.addEventListener(MOUSE_DOWN, catchEvent, options);\r\n        window.addEventListener(MOUSE_MOVE, catchEvent, options);\r\n        window.addEventListener(MOUSE_UP, catchEvent, options);\r\n    }\r\n    return function () {\r\n        TOUCH_EVENTS.forEach(function (eventName) {\r\n            el.removeEventListener(eventName, catchEvent);\r\n        });\r\n        if (!IS_WX) {\r\n            el.removeEventListener(MOUSE_DOWN, catchEvent, options);\r\n            window.removeEventListener(MOUSE_MOVE, catchEvent, options);\r\n            window.removeEventListener(MOUSE_UP, catchEvent, options);\r\n        }\r\n    };\r\n}\n\nfunction use(atOrAT, Recognizer, recognizerOptions) {\r\n    var e_1, _a;\r\n    var name = recognizerOptions === null || recognizerOptions === void 0 ? void 0 : recognizerOptions.name;\r\n    if (void 0 !== name && void 0 !== atOrAT.recognizerMap[name])\r\n        return;\r\n    var recognizer = new Recognizer(recognizerOptions);\r\n    try {\r\n        for (var _b = __values(recognizer.computeFunctions), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n            var createComputeFunction = _c.value;\r\n            var _id = createComputeFunction._id;\r\n            if (void 0 === atOrAT.computeFunctionMap[_id]) {\r\n                atOrAT.computeFunctionMap[_id] = 'version' in atOrAT ? createComputeFunction : createComputeFunction();\r\n            }\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n    atOrAT.recognizerMap[recognizer.name] = recognizer;\r\n    recognizer.recognizerMap = atOrAT.recognizerMap;\r\n    atOrAT.recognizers.push(atOrAT.recognizerMap[recognizer.name]);\r\n}\r\nfunction removeUse(atOrAT, recognizerName) {\r\n    var e_2, _a;\r\n    if (void 0 === recognizerName) {\r\n        atOrAT.recognizers = [];\r\n        atOrAT.recognizerMap = {};\r\n    }\r\n    else {\r\n        try {\r\n            for (var _b = __values(atOrAT.recognizers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var _d = __read(_c.value, 2), index = _d[0], recognizer = _d[1];\r\n                if (recognizerName === recognizer.options.name) {\r\n                    atOrAT.recognizers.splice(index, 1);\r\n                    delete atOrAT.recognizerMap[recognizerName];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n    }\r\n}\n\nvar AT_AFTER = 'at:after';\r\nfunction emit2 (at, payload) {\r\n    var type = payload.type, target = payload.target;\r\n    at.emit(type, payload);\r\n    at.emit(AT_AFTER, payload);\r\n    if (!!at.options.domEvents\r\n        && void 0 !== at.el\r\n        && null !== target) {\r\n        dispatchDomEvent(target, payload, at.options.domEvents);\r\n        dispatchDomEvent(target, __assign(__assign({}, payload), { _type: payload.type, type: AT_AFTER }), at.options.domEvents);\r\n    }\r\n}\n\nvar DEFAULT_OPTIONS = {\r\n    domEvents: { bubbles: true, cancelable: true },\r\n    isPreventDefault: true,\r\n    preventDefaultExclude: /^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/\r\n};\r\nvar AnyTouch = (function (_super) {\r\n    __extends(AnyTouch, _super);\r\n    function AnyTouch(el, options) {\r\n        var _a;\r\n        var _this = _super.call(this) || this;\r\n        _this.computeFunctionMap = {};\r\n        _this.recognizerMap = {};\r\n        _this.recognizers = [];\r\n        _this.cacheComputedFunctionGroup = Object.create(null);\r\n        _this.el = el;\r\n        _this.options = __assign(__assign({}, DEFAULT_OPTIONS), options);\r\n        for (var k in AnyTouch.computeFunctionMap) {\r\n            _this.computeFunctionMap[k] = AnyTouch.computeFunctionMap[k]();\r\n        }\r\n        _this.recognizerMap = AnyTouch.recognizerMap;\r\n        _this.recognizers = AnyTouch.recognizers;\r\n        var createInputFromTouch = touch(_this.el);\r\n        var createInputFromMouse = mouse();\r\n        _this.inputCreatorMap = (_a = {},\r\n            _a[TOUCH_START] = createInputFromTouch,\r\n            _a[TOUCH_MOVE] = createInputFromTouch,\r\n            _a[TOUCH_END] = createInputFromTouch,\r\n            _a[TOUCH_CANCEL] = createInputFromTouch,\r\n            _a[MOUSE_DOWN] = createInputFromMouse,\r\n            _a[MOUSE_MOVE] = createInputFromMouse,\r\n            _a[MOUSE_UP] = createInputFromMouse,\r\n            _a);\r\n        if (void 0 !== el) {\r\n            el.style.webkitTapHighlightColor = 'rgba(0,0,0,0)';\r\n            var supportsPassive_1 = false;\r\n            try {\r\n                var opts = {};\r\n                Object.defineProperty(opts, 'passive', ({\r\n                    get: function () {\r\n                        supportsPassive_1 = true;\r\n                    }\r\n                }));\r\n                window.addEventListener('_', function () { return void 0; }, opts);\r\n            }\r\n            catch (_b) { }\r\n            _this.on('unbind', bindElement(el, _this.catchEvent.bind(_this), !_this.options.isPreventDefault && supportsPassive_1 ? { passive: true } : false));\r\n        }\r\n        return _this;\r\n    }\r\n    AnyTouch.prototype.target = function (el) {\r\n        var _this = this;\r\n        return {\r\n            on: function (eventName, listener) {\r\n                _this.on(eventName, listener, function (event) {\r\n                    var targets = event.targets;\r\n                    return event.target === el &&\r\n                        targets.every(function (target) { return el.contains(target); });\r\n                });\r\n            }\r\n        };\r\n    };\r\n    AnyTouch.prototype.catchEvent = function (event) {\r\n        var e_1, _a;\r\n        var _this = this;\r\n        if (canPreventDefault(event, this.options)) {\r\n            event.preventDefault();\r\n        }\r\n        var input = this.inputCreatorMap[event.type](event);\r\n        if (void 0 !== input) {\r\n            var AT = \"at\";\r\n            var AT_WITH_STATUS = AT + ':' + input.stage;\r\n            this.emit(AT, input);\r\n            this.emit(AT_WITH_STATUS, input);\r\n            var domEvents = this.options.domEvents;\r\n            if (false !== domEvents) {\r\n                var target = event.target;\r\n                if (null !== target) {\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT }), domEvents);\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_WITH_STATUS }), domEvents);\r\n                }\r\n            }\r\n            var computed_1 = input;\r\n            for (var k in this.computeFunctionMap) {\r\n                Object.assign(computed_1, this.computeFunctionMap[k](computed_1));\r\n            }\r\n            var _loop_1 = function (recognizer) {\r\n                if (recognizer.disabled)\r\n                    return \"continue\";\r\n                recognizer.recognize(computed_1, function (type) {\r\n                    var payload = __assign(__assign({}, computed_1), { type: type, baseType: recognizer.name });\r\n                    Object === null || Object === void 0 ? void 0 : Object.freeze(payload);\r\n                    if (void 0 === _this.beforeEachHook) {\r\n                        emit2(_this, payload);\r\n                    }\r\n                    else {\r\n                        _this.beforeEachHook(recognizer, _this.recognizerMap, function () {\r\n                            emit2(_this, payload);\r\n                        });\r\n                    }\r\n                });\r\n            };\r\n            try {\r\n                for (var _b = __values(this.recognizers), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var recognizer = _c.value;\r\n                    _loop_1(recognizer);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n    };\r\n    AnyTouch.prototype.use = function (Recognizer, options) {\r\n        use(this, Recognizer, options);\r\n    };\r\n    AnyTouch.prototype.removeUse = function (name) {\r\n        removeUse(this, name);\r\n    };\r\n    AnyTouch.prototype.beforeEach = function (hook) {\r\n        this.beforeEachHook = hook;\r\n    };\r\n    AnyTouch.prototype.get = function (name) {\r\n        return this.recognizerMap[name];\r\n    };\r\n    AnyTouch.prototype.set = function (options) {\r\n        this.options = __assign(__assign({}, this.options), options);\r\n    };\r\n    AnyTouch.prototype.destroy = function () {\r\n        this.emit('unbind');\r\n        this.listenersMap = {};\r\n    };\r\n    AnyTouch.version = '0.8.0';\r\n    AnyTouch.recognizers = [];\r\n    AnyTouch.recognizerMap = {};\r\n    AnyTouch.computeFunctionMap = {};\r\n    AnyTouch.use = function (Recognizer, options) {\r\n        use(AnyTouch, Recognizer, options);\r\n    };\r\n    AnyTouch.removeUse = function (recognizerName) {\r\n        removeUse(AnyTouch, recognizerName);\r\n    };\r\n    return AnyTouch;\r\n}(AnyEvent));\n\nexport default AnyTouch;\n","import { __assign } from 'tslib';\nimport { STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED, STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, INPUT_MOVE, INPUT_END, INPUT_CANCEL, INPUT_START } from '@any-touch/shared';\n\nfunction resetStatus (recognizer) {\r\n    if (-1 !== [STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED].indexOf(recognizer.status)) {\r\n        recognizer.status = STATUS_POSSIBLE;\r\n    }\r\n}\n\nfunction flow(isVaild, lastStatus, stage) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var STATE_MAP = {\r\n        1: (_a = {},\r\n            _a[STATUS_POSSIBLE] = (_b = {},\r\n                _b[INPUT_MOVE] = STATUS_START,\r\n                _b[INPUT_END] = STATUS_FAILED,\r\n                _b[INPUT_CANCEL] = STATUS_FAILED,\r\n                _b),\r\n            _a[STATUS_START] = (_c = {},\r\n                _c[INPUT_MOVE] = STATUS_MOVE,\r\n                _c[INPUT_END] = STATUS_END,\r\n                _c[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _c),\r\n            _a[STATUS_MOVE] = (_d = {},\r\n                _d[INPUT_MOVE] = STATUS_MOVE,\r\n                _d[INPUT_END] = STATUS_END,\r\n                _d[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _d),\r\n            _a),\r\n        0: (_e = {},\r\n            _e[STATUS_START] = (_f = {},\r\n                _f[INPUT_MOVE] = STATUS_FAILED,\r\n                _f[INPUT_END] = STATUS_FAILED,\r\n                _f[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _f),\r\n            _e[STATUS_MOVE] = (_g = {},\r\n                _g[INPUT_START] = STATUS_FAILED,\r\n                _g[INPUT_MOVE] = STATUS_FAILED,\r\n                _g[INPUT_END] = STATUS_FAILED,\r\n                _g[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _g),\r\n            _e)\r\n    };\r\n    var stageToStatusMap = STATE_MAP[Number(isVaild)][lastStatus];\r\n    return void 0 !== stageToStatusMap && stageToStatusMap[stage] || lastStatus;\r\n}\r\nfunction recognizeForPressMoveLike (recognizer, computed, emit) {\r\n    var isVaild = recognizer.test(computed);\r\n    resetStatus(recognizer);\r\n    var stage = computed.stage;\r\n    recognizer.status = flow(isVaild, recognizer.status, stage);\r\n    recognizer.isRecognized = [STATUS_START, STATUS_MOVE].includes(recognizer.status);\r\n    var name = recognizer.name, status = recognizer.status, isRecognized = recognizer.isRecognized;\r\n    if (isRecognized) {\r\n        emit(name);\r\n    }\r\n    if (isRecognized || [STATUS_END, STATUS_CANCELLED].includes(recognizer.status)) {\r\n        emit(name + status);\r\n    }\r\n    return isVaild;\r\n}\n\nvar default_1 = (function () {\r\n    function default_1(options) {\r\n        this.disabled = false;\r\n        this.isRecognized = false;\r\n        this.status = STATUS_POSSIBLE;\r\n        this.recognizerMap = {};\r\n        this.computeFunctions = [];\r\n        this.options = options;\r\n        this.name = this.options.name;\r\n    }\r\n    default_1.prototype.set = function (options) {\r\n        if (void 0 !== options) {\r\n            this.options = __assign(__assign({}, this.options), options);\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.isValidPointLength = function (pointLength) {\r\n        return this.options.pointLength === pointLength;\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\nexport { recognizeForPressMoveLike, resetStatus as resetStatusForPressMoveLike };\n","import { NONE, DIRECTION_RIGHT, DIRECTION_LEFT, DIRECTION_DOWN, DIRECTION_UP } from '@any-touch/shared';\n\nvar getVLength = (function (v) {\r\n    return Math.sqrt(v.x * v.x + v.y * v.y);\r\n});\n\nvar getDotProduct = (function (v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n});\n\nvar getRadian = (function (v1, v2) {\r\n    var mr = getVLength(v1) * getVLength(v2);\r\n    if (mr === 0)\r\n        return 0;\r\n    var r = getDotProduct(v1, v2) / mr;\r\n    if (r > 1)\r\n        r = 1;\r\n    return Math.acos(r);\r\n});\n\nvar getCross = (function (v1, v2) {\r\n    return v1.x * v2.y - v2.x * v1.y;\r\n});\n\nvar radianToAngle = (function (radian) { return radian / Math.PI * 180; });\n\nvar getAngle = (function (v1, v2) {\r\n    var angle = getRadian(v1, v2);\r\n    if (getCross(v1, v2) > 0) {\r\n        angle *= -1;\r\n    }\r\n    return radianToAngle(angle);\r\n});\n\nvar getDirection = (function (x, y) {\r\n    if (x === y) {\r\n        return NONE;\r\n    }\r\n    else if (Math.abs(x) > Math.abs(y)) {\r\n        return 0 < x ? DIRECTION_RIGHT : DIRECTION_LEFT;\r\n    }\r\n    else {\r\n        return 0 < y ? DIRECTION_DOWN : DIRECTION_UP;\r\n    }\r\n});\n\nexport { getAngle, getCross, getDirection, getDotProduct, getRadian, getVLength, radianToAngle };\n","import { getAngle, radianToAngle, getVLength, getDirection } from '@any-touch/vector';\nimport { CLIENT_X, CLIENT_Y, INPUT_START, INPUT_MOVE, NONE, round2, COMPUTE_INTERVAL } from '@any-touch/shared';\n\nfunction computeVector(input) {\r\n    return {\r\n        x: input.points[1][CLIENT_X] - input.points[0][CLIENT_X],\r\n        y: input.points[1][CLIENT_Y] - input.points[0][CLIENT_Y]\r\n    };\r\n}\r\nfunction _computeVectorForMutli (input) {\r\n    var prevInput = input.prevInput, startMultiInput = input.startMultiInput;\r\n    if (void 0 !== startMultiInput &&\r\n        void 0 !== prevInput &&\r\n        input.id !== startMultiInput.id &&\r\n        1 < prevInput.pointLength &&\r\n        1 < input.pointLength) {\r\n        return {\r\n            startV: computeVector(startMultiInput),\r\n            prevV: computeVector(prevInput),\r\n            activeV: computeVector(input)\r\n        };\r\n    }\r\n}\n\nfunction ComputeAngle() {\r\n    return function (input) {\r\n        var _vs = (input === null || input === void 0 ? void 0 : input._vs) || _computeVectorForMutli(input);\r\n        if (void 0 !== _vs && _vs.activeV) {\r\n            var prevV = _vs.prevV, startV = _vs.startV, activeV = _vs.activeV;\r\n            var deltaAngle = Math.round(getAngle(activeV, prevV));\r\n            var angle = Math.round(getAngle(activeV, startV));\r\n            return { angle: angle, deltaAngle: deltaAngle, _vs: _vs };\r\n        }\r\n    };\r\n}\r\nComputeAngle._id = \"a\";\n\nfunction ComputeDeltaXY() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput;\r\n        var deltaX = 0;\r\n        var deltaY = 0;\r\n        var deltaXYAngle = 0;\r\n        if (void 0 !== prevInput) {\r\n            deltaX = input.x - prevInput.x;\r\n            deltaY = input.y - prevInput.y;\r\n            if (0 !== deltaX || 0 !== deltaY) {\r\n                var deltaXY = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n                deltaXYAngle = Math.round(radianToAngle(Math.acos(Math.abs(deltaX) / deltaXY)));\r\n            }\r\n        }\r\n        return { deltaX: deltaX, deltaY: deltaY, deltaXYAngle: deltaXYAngle };\r\n    };\r\n}\r\nComputeDeltaXY._id = \"b\";\n\nfunction ComputeDistance() {\r\n    var displacementX = 0;\r\n    var displacementY = 0;\r\n    var distanceX = 0;\r\n    var distanceY = 0;\r\n    var distance = 0;\r\n    var overallDirection = NONE;\r\n    return function (input) {\r\n        var stage = input.stage, startInput = input.startInput;\r\n        if (INPUT_START === stage) {\r\n            displacementX = 0;\r\n            displacementY = 0;\r\n            distanceX = 0;\r\n            distanceY = 0;\r\n            distance = 0;\r\n            overallDirection = NONE;\r\n        }\r\n        else if (INPUT_MOVE === stage) {\r\n            displacementX = Math.round(input.points[0][CLIENT_X] - startInput.points[0][CLIENT_X]);\r\n            displacementY = Math.round(input.points[0][CLIENT_Y] - startInput.points[0][CLIENT_Y]);\r\n            distanceX = Math.abs(displacementX);\r\n            distanceY = Math.abs(displacementY);\r\n            distance = Math.round(getVLength({ x: distanceX, y: distanceY }));\r\n            overallDirection = getDirection(displacementX, displacementY);\r\n        }\r\n        return {\r\n            displacementX: displacementX, displacementY: displacementY, distanceX: distanceX, distanceY: distanceY, distance: distance, overallDirection: overallDirection\r\n        };\r\n    };\r\n}\r\nComputeDistance._id = \"c\";\n\nfunction ComputeMaxLength() {\r\n    var maxPointLength = 0;\r\n    return function (input) {\r\n        var stage = input.stage;\r\n        if (INPUT_START === stage) {\r\n            maxPointLength = input.pointLength;\r\n        }\r\n        return { maxPointLength: maxPointLength };\r\n    };\r\n}\r\nComputeMaxLength._id = \"d\";\n\nfunction ComputeScale() {\r\n    return function (input) {\r\n        var _vs = (input === null || input === void 0 ? void 0 : input._vs) || _computeVectorForMutli(input);\r\n        if (void 0 !== _vs && _vs.activeV) {\r\n            var prevV = _vs.prevV, startV = _vs.startV, activeV = _vs.activeV;\r\n            var deltaScale = round2(getVLength(activeV) / getVLength(prevV));\r\n            var scale = round2(getVLength(activeV) / getVLength(startV));\r\n            return { scale: scale, deltaScale: deltaScale, _vs: _vs };\r\n        }\r\n    };\r\n}\r\nComputeScale._id = \"e\";\n\nfunction ComputeVAndDir() {\r\n    var velocityX = 0;\r\n    var velocityY = 0;\r\n    var speedX = 0;\r\n    var speedY = 0;\r\n    var direction;\r\n    var _lastValidInput;\r\n    return function (input) {\r\n        if (void 0 !== input) {\r\n            var stage = input.stage;\r\n            _lastValidInput = _lastValidInput || input.startInput;\r\n            var deltaTime = input.timestamp - _lastValidInput.timestamp;\r\n            if (INPUT_MOVE === stage && COMPUTE_INTERVAL < deltaTime) {\r\n                var deltaX = input.x - _lastValidInput.x;\r\n                var deltaY = input.y - _lastValidInput.y;\r\n                speedX = Math.round(deltaX / deltaTime * 100) / 100;\r\n                speedY = Math.round(deltaY / deltaTime * 100) / 100;\r\n                velocityX = Math.abs(speedX);\r\n                velocityY = Math.abs(speedY);\r\n                direction = getDirection(deltaX, deltaY) || direction;\r\n                _lastValidInput = input;\r\n            }\r\n        }\r\n        return { velocityX: velocityX, velocityY: velocityY, speedX: speedX, speedY: speedY, direction: direction };\r\n    };\r\n}\r\nComputeVAndDir._id = \"f\";\n\nexport { ComputeAngle, ComputeDeltaXY, ComputeDistance, ComputeMaxLength, ComputeScale, ComputeVAndDir };\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_FAILED } from '@any-touch/shared';\nimport Recognizer from '@any-touch/recognizer';\nimport { getVLength } from '@any-touch/vector';\nimport { ComputeDistance, ComputeMaxLength } from '@any-touch/compute';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'tap',\r\n    pointLength: 1,\r\n    tapTimes: 1,\r\n    waitNextTapTime: 300,\r\n    maxDistance: 2,\r\n    maxDistanceFromPrevTap: 9,\r\n    maxPressTime: 250,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.computeFunctions = [ComputeDistance, ComputeMaxLength];\r\n        _this.tapCount = 0;\r\n        return _this;\r\n    }\r\n    default_1.prototype._isValidDistanceFromPrevTap = function (center) {\r\n        if (void 0 !== this.prevTapPoint) {\r\n            var distanceFromPreviousTap = getVLength({ x: center.x - this.prevTapPoint.x, y: center.y - this.prevTapPoint.y });\r\n            this.prevTapPoint = center;\r\n            return this.options.maxDistanceFromPrevTap >= distanceFromPreviousTap;\r\n        }\r\n        else {\r\n            this.prevTapPoint = center;\r\n            return true;\r\n        }\r\n    };\r\n    default_1.prototype._isValidInterval = function () {\r\n        var now = performance.now();\r\n        if (void 0 === this.prevTapTime) {\r\n            this.prevTapTime = now;\r\n            return true;\r\n        }\r\n        else {\r\n            var interval = now - this.prevTapTime;\r\n            this.prevTapTime = now;\r\n            return interval < this.options.waitNextTapTime;\r\n        }\r\n    };\r\n    default_1.prototype.recognize = function (computed, emit) {\r\n        var stage = computed.stage, x = computed.x, y = computed.y;\r\n        if (INPUT_END !== stage)\r\n            return;\r\n        this.status = STATUS_POSSIBLE;\r\n        if (this.test(computed)) {\r\n            this.cancelCountDownToFail();\r\n            if (this._isValidDistanceFromPrevTap({ x: x, y: y }) && this._isValidInterval()) {\r\n                this.tapCount++;\r\n            }\r\n            else {\r\n                this.tapCount = 1;\r\n            }\r\n            if (0 === this.tapCount % this.options.tapTimes) {\r\n                this.status = STATUS_RECOGNIZED;\r\n                emit(this.options.name, __assign(__assign({}, computed), { tapCount: this.tapCount }));\r\n                this.reset();\r\n            }\r\n            else {\r\n                this.countDownToFail();\r\n            }\r\n        }\r\n        else {\r\n            this.reset();\r\n            this.status = STATUS_FAILED;\r\n        }\r\n    };\r\n    default_1.prototype.countDownToFail = function () {\r\n        var _this = this;\r\n        this._countDownToFailTimer = setTimeout(function () {\r\n            _this.status = STATUS_FAILED;\r\n            _this.reset();\r\n        }, this.options.waitNextTapTime);\r\n    };\r\n    default_1.prototype.cancelCountDownToFail = function () {\r\n        clearTimeout(this._countDownToFailTimer);\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        this.tapCount = 0;\r\n        this.prevTapPoint = void 0;\r\n        this.prevTapTime = void 0;\r\n    };\r\n    default_1.prototype.test = function (computed) {\r\n        var startInput = computed.startInput, pointLength = computed.pointLength;\r\n        var deltaTime = computed.timestamp - startInput.timestamp;\r\n        var maxPointLength = computed.maxPointLength, distance = computed.distance;\r\n        return maxPointLength === this.options.pointLength &&\r\n            0 === pointLength &&\r\n            this.options.maxDistance >= distance &&\r\n            this.options.maxPressTime > deltaTime;\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVAndDir, ComputeDistance, ComputeDeltaXY } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pan',\r\n    threshold: 10,\r\n    pointLength: 1\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.computeFunctions = [ComputeVAndDir, ComputeDistance, ComputeDeltaXY];\r\n        return _this;\r\n    }\r\n    default_1.prototype.test = function (computed) {\r\n        var pointLength = computed.pointLength, distance = computed.distance;\r\n        return ((this.isRecognized || this.options.threshold <= distance) &&\r\n            this.isValidPointLength(pointLength));\r\n    };\r\n    default_1.prototype.recognize = function (computed, emit) {\r\n        var isRecognized = void 0 !== computed.direction && recognizeForPressMoveLike(this, computed, emit);\r\n        if (isRecognized) {\r\n            emit(this.options.name + computed.direction);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END } from '@any-touch/shared';\nimport { ComputeDistance, ComputeVAndDir, ComputeMaxLength } from '@any-touch/compute';\nimport Recognizer from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'swipe',\r\n    threshold: 10,\r\n    velocity: 0.3,\r\n    pointLength: 1,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.computeFunctions = [ComputeDistance, ComputeVAndDir, ComputeMaxLength];\r\n        return _this;\r\n    }\r\n    default_1.prototype.test = function (computed) {\r\n        if (INPUT_END !== computed.stage)\r\n            return false;\r\n        var velocityX = computed.velocityX, velocityY = computed.velocityY, maxPointLength = computed.maxPointLength, distance = computed.distance;\r\n        return this.options.pointLength === maxPointLength &&\r\n            this.options.threshold < distance &&\r\n            this.options.velocity < Math.max(velocityX, velocityY);\r\n    };\r\n    default_1.prototype.recognize = function (computed, emit) {\r\n        if (this.test(computed)) {\r\n            emit(this.options.name);\r\n            emit(this.options.name + computed.direction);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_START, STATUS_RECOGNIZED, INPUT_END, DIRECTION_UP, INPUT_CANCEL, STATUS_FAILED } from '@any-touch/shared';\nimport { ComputeDistance } from '@any-touch/compute';\nimport Recognizer, { resetStatusForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'press',\r\n    pointLength: 1,\r\n    maxDistance: 9,\r\n    minPressTime: 251,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.computeFunctions = [ComputeDistance];\r\n        return _this;\r\n    }\r\n    default_1.prototype.recognize = function (computed, emit) {\r\n        var _this = this;\r\n        var stage = computed.stage, startInput = computed.startInput, pointLength = computed.pointLength;\r\n        if (INPUT_START === stage && this.isValidPointLength(pointLength)) {\r\n            resetStatusForPressMoveLike(this);\r\n            this.cancel();\r\n            this._timeoutId = setTimeout(function () {\r\n                _this.status = STATUS_RECOGNIZED;\r\n                emit(_this.options.name);\r\n            }, this.options.minPressTime);\r\n        }\r\n        else if (INPUT_END === stage && STATUS_RECOGNIZED === this.status) {\r\n            emit(\"\" + this.options.name + DIRECTION_UP);\r\n        }\r\n        else if (STATUS_RECOGNIZED !== this.status) {\r\n            var deltaTime = computed.timestamp - startInput.timestamp;\r\n            if (!this.test(computed) ||\r\n                (this.options.minPressTime > deltaTime && [INPUT_END, INPUT_CANCEL].includes(stage))) {\r\n                this.cancel();\r\n                this.status = STATUS_FAILED;\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.test = function (computed) {\r\n        var distance = computed.distance;\r\n        return this.options.maxDistance > distance;\r\n    };\r\n    default_1.prototype.cancel = function () {\r\n        clearTimeout(this._timeoutId);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeScale } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pinch',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.computeFunctions = [ComputeScale];\r\n        return _this;\r\n    }\r\n    default_1.prototype.test = function (computed) {\r\n        var pointLength = computed.pointLength, scale = computed.scale;\r\n        return this.isValidPointLength(pointLength)\r\n            && void 0 !== scale\r\n            && (this.options.threshold < Math.abs(scale - 1) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (computed, emit) {\r\n        recognizeForPressMoveLike(this, computed, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeAngle } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'rotate',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.computeFunctions = [ComputeAngle];\r\n        return _this;\r\n    }\r\n    default_1.prototype.test = function (computed) {\r\n        var pointLength = computed.pointLength, angle = computed.angle;\r\n        return this.isValidPointLength(pointLength) && (this.options.threshold < Math.abs(angle) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (computed, emit) {\r\n        recognizeForPressMoveLike(this, computed, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import AnyTouch from '@any-touch/core';\nimport Tap from '@any-touch/tap';\nimport Pan from '@any-touch/pan';\nimport Swipe from '@any-touch/swipe';\nimport Press from '@any-touch/press';\nimport Pinch from '@any-touch/pinch';\nimport Rotate from '@any-touch/rotate';\nimport { STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, STATUS_END, STATUS_CANCELLED, STATUS_FAILED, STATUS_RECOGNIZED } from '@any-touch/shared';\n\nAnyTouch.use(Tap);\r\nAnyTouch.use(Pan);\r\nAnyTouch.use(Swipe);\r\nAnyTouch.use(Press);\r\nAnyTouch.use(Pinch);\r\nAnyTouch.use(Rotate);\r\nAnyTouch.Tap = Tap;\r\nAnyTouch.Pan = Pan;\r\nAnyTouch.Swipe = Swipe;\r\nAnyTouch.Press = Press;\r\nAnyTouch.Pinch = Pinch;\r\nAnyTouch.Rotate = Rotate;\r\nAnyTouch.STATUS_POSSIBLE = STATUS_POSSIBLE;\r\nAnyTouch.STATUS_START = STATUS_START;\r\nAnyTouch.STATUS_MOVE = STATUS_MOVE;\r\nAnyTouch.STATUS_END = STATUS_END;\r\nAnyTouch.STATUS_CANCELLED = STATUS_CANCELLED;\r\nAnyTouch.STATUS_FAILED = STATUS_FAILED;\r\nAnyTouch.STATUS_RECOGNIZED = STATUS_RECOGNIZED;\n\nexport default AnyTouch;\n",null,null,null,"<template>\r\n    <article class=\"page-photo-touch\">\r\n        <section class=\"d-flex pos-r\">\r\n            <canvas ref=\"canvas\" style=\"width:100%;\"></canvas>\r\n            <p v-if=\"loading\">loading</p>\r\n            <div v-if=\"null !== img\" class=\"pos-a\" style=\"width:50px; right:-8px;top:16px;\">\r\n                <button\r\n                    class=\"a-button a-button--dark ml-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.zoom(0.9)\"\r\n                >\r\n                    <i class=\"ion-md-remove font-1\"></i>\r\n                </button>\r\n                <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.zoom(1.1)\"\r\n                >\r\n                    <i class=\"ion-md-add font-1\"></i>\r\n                </button>\r\n\r\n                <!-- <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.rotate(-90)\"\r\n                >\r\n                    <i class=\"ion-md-refresh rotate-180 d-block font-1\"></i>\r\n                </button>-->\r\n                <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.rotate(90)\"\r\n                >\r\n                    <i class=\"ion-md-refresh font-1\"></i>\r\n                </button>\r\n\r\n                <button\r\n                    class=\"a-button a-button--danger mt-1\"\r\n                    style=\"background:rgba(255, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"togglePreview\"\r\n                >\r\n                    <i :class=\"[`ion-md-eye${isShowLine ? '' : '-off'}`]\" class=\"font-1\"></i>\r\n                </button>\r\n            </div>\r\n        </section>\r\n\r\n        <div class=\"d-flex mt-1\">\r\n            <ButtonLoadFile\r\n                class=\"a-button a-button--dark a-button--outline flex-1\"\r\n                @loaded=\"onImageLoaded\"\r\n            ><i class=\"ion-md-image font-1\" style=\"vertical-align: sub;\"/> Change</ButtonLoadFile>\r\n\r\n            <button class=\"a-button a-button--primary flex-1\" @click=\"toDataURL\">\r\n                <i class=\"ion-md-checkmark font-1\" style=\"vertical-align: sub;\"></i> Done\r\n            </button>\r\n        </div>\r\n        <img style=\"width:100%;\" :src=\"dataURL\" />\r\n        <section>\r\n            <hr class=\"mt-2\" />\r\n            <!-- Offset -->\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[0]\"\r\n                    @input=\"photoTouch.moveTo(Number($event.target.value),offset[1])\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetX: {{offset[0]}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[1]\"\r\n                    @input=\"photoTouch.moveTo(offset[0],Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetY: {{offset[1]}}\r\n            </label>\r\n            <hr class=\"mt-2\" />\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[0]\"\r\n                    @input=\"photoTouch.changeOrg([org[0],Number($event.target.value)])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OX:{{org[0]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[1]\"\r\n                    @input=\"photoTouch.changeOrg([Number($event.target.value), org[1]])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OY:{{org[1]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"scale\"\r\n                    @input=\"photoTouch.zoomTo(Number($event.target.value))\"\r\n                    min=\"0.1\"\r\n                    max=\"2\"\r\n                    step=\"0.1\"\r\n                    type=\"range\"\r\n                />\r\n                Scale: {{scale}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"angle\"\r\n                    @input=\"photoTouch.rotateTo(Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"360\"\r\n                />\r\n                A:{{angle}}\r\n            </label>\r\n        </section>\r\n    </article>\r\n</template>\r\n<script>\r\nimport PhotoTouch from '../../../packages/photo-touch/dist/index.umd';\r\nimport ButtonLoadFile from './ButtonLoadFile';\r\nexport default {\r\n    name: 'DIY',\r\n\r\n    components: { ButtonLoadFile },\r\n\r\n    data() {\r\n        return {\r\n            dataURL: '',\r\n            loading: false,\r\n            img: null,\r\n            isShowLine: false,\r\n            photoTouch: null,\r\n            overlayImgs: [],\r\n            activeOverlay: {},\r\n            org: [1642 / 2, 2434 / 2],\r\n            angle: 0,\r\n            scale: 1,\r\n            offset: [0, 0],\r\n            width: 1642,\r\n            height: 2434,\r\n            background: '#fff',\r\n\r\n            lineOverlays: [\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_b44dc4e2-3e32-4b51-80de-675d8a273aed.png?v=1597476179',\r\n            ],\r\n\r\n            previewOverlays: [\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_0d08b826-a84d-4224-aca2-4f928c6fe6e5.png?v=1597476180',\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_9fa84a77-f492-424d-be4c-6241e4aa6bd7.png?v=1597476180',\r\n            ],\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        isShowLine(isShowLine) {\r\n            const { img } = this;\r\n            this.loading = true;\r\n            if (isShowLine) {\r\n                this.photoTouch.changeOverlay(...this.lineOverlays);\r\n            } else {\r\n                this.photoTouch.changeBackground(this.background);\r\n                this.photoTouch.changeOverlay(...this.previewOverlays);\r\n            }\r\n            this.loading = false;\r\n        },\r\n    },\r\n\r\n    async mounted() {\r\n        this.photoTouch = new PhotoTouch(this.$refs.canvas, this.width, this.height);\r\n        this.photoTouch.on('transform', ({ offset, scale, angle, org }) => {\r\n            this.offset = offset;\r\n            this.scale = scale;\r\n            this.angle = angle;\r\n            this.org = org;\r\n        });\r\n\r\n        this.photoTouch.on(['panstart', 'pinchstart', 'rotatestart', 'tap'], () => {\r\n            this.isShowLine = true;\r\n        });\r\n\r\n        this.photoTouch.on(['panend', 'pinchend', 'rotateend'], () => {\r\n            this.isShowLine = false;\r\n        });\r\n    },\r\n\r\n    methods: {\r\n        toDataURL() {\r\n            this.isShowLine = false;\r\n            this.$nextTick(() => {\r\n                this.dataURL = this.photoTouch.canvas.toDataURL('image/jpeg',0.7);\r\n                console.log(this.img.src)\r\n            });\r\n        },\r\n        async togglePreview() {\r\n            this.isShowLine = !this.isShowLine;\r\n        },\r\n\r\n        async onImageLoaded(e) {\r\n            this.loading = true;\r\n            const { img } = e[0].source;\r\n            this.img = img;\r\n            this.photoTouch.changeBackground(this.background);\r\n            this.photoTouch.changeImg(img);\r\n            this.photoTouch.changeOverlay(...this.previewOverlays);\r\n            this.loading = false;\r\n        },\r\n\r\n        reset() {\r\n            this.photoTouch.reset();\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\narticle.page-photo-touch {\r\n    padding: 16px;\r\n  }\r\n\r\n@media (min-width: 640px) {\r\n  article.page-photo-touch {\r\n    max-width: 375px;\r\n    margin: 16px auto;\r\n    box-shadow: 0 0 8px 1px rgba(#000,0.1);\r\n  }\r\n}\r\n\r\n\r\ncanvas {\r\n    cursor: move;\r\n}\r\nlabel {\r\n    display: block;\r\n}\r\n</style>","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { render } from \"./PhotoTouch.vue?vue&type=template&id=af1fb06a\"\nimport script from \"./PhotoTouch.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoTouch.vue?vue&type=script&lang=js\"\n\nimport \"./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss\"","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://github.com/tc39/proposal-global\n$({ global: true }, {\n  globalThis: global\n});\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss\"","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","<template>\r\n    <label class=\"button-load-file\">\r\n        <input type=\"file\" accept=\"image/*\" multiple @change=\"onChange\" />\r\n        <slot>Upload</slot>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\n// 114 72\r\nimport loadImage from './loadImage';\r\nexport default {\r\n    name: 'ButtonLoadFile',\r\n\r\n    props: {\r\n        cropSize: {\r\n            type: Array,\r\n            default: () => [426, 269]\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        // 目标裁剪比例\r\n        cropRate() {\r\n            return this.cropSize[0] / this.cropSize[1];\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return { url: '' };\r\n    },\r\n\r\n    methods: {\r\n        readFile(file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = async (e) => {\r\n                    const img = await loadImage(e.target.result);\r\n                    const { width, height } = img;\r\n                    const crop = this.crop(img);\r\n                    resolve({ source: {fileName:file.name, url: e.target.result, img, width, height }, crop });\r\n                };\r\n\r\n                reader.onerror = reject;\r\n            });\r\n        },\r\n\r\n        async onChange(e) {\r\n            const { target } = e;\r\n            const { files } = target;\r\n            const array = Array.from(files);\r\n            if (0 < array.length) {\r\n                const data = await Promise.all(array.map(async (file) => this.readFile(file)));\r\n                this.$emit('loaded', data);\r\n            } else {\r\n                this.$emit('reset');\r\n            }\r\n        },\r\n\r\n        crop(img) {\r\n            const el = document.createElement('canvas');\r\n            const context = el.getContext('2d');\r\n            const { width, height } = img;\r\n\r\n            const rate = width / height;\r\n            // 从元素选取的起点和宽高\r\n            let sourceWidth = width;\r\n            let sourceHeight = height;\r\n            let sourceY = 0;\r\n            let sourceX = 0;\r\n            let cropAxis = 'x';\r\n            // 以宽度为基准, 裁剪高度\r\n            if (this.cropRate > rate) {\r\n                cropAxis = 'y';\r\n                sourceHeight = sourceWidth / this.cropRate;\r\n                sourceY = (height - sourceHeight) / 2;\r\n            }\r\n            // 以高度为基准, 裁剪宽度\r\n            else {\r\n                sourceWidth = sourceHeight * this.cropRate;\r\n                sourceX = (width - sourceWidth) / 2;\r\n            }\r\n            // console.clear();\r\n            // console.log({ sourceX, sourceY, sourceWidth, sourceHeight }, width, height);\r\n            el.width = this.cropSize[0];\r\n            el.height = this.cropSize[1];\r\n            const args = [img, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, this.cropSize[0], this.cropSize[1]];\r\n            context.drawImage(...args);\r\n            const url = el.toDataURL();\r\n            return {\r\n                url,\r\n                x: sourceX,\r\n                y: sourceY,\r\n                width: sourceWidth,\r\n                height: sourceHeight,\r\n                cropAxis,\r\n                cropRate: this.cropRate,\r\n                args\r\n            };\r\n            // console.log(dataURL);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\n.button-load-file {\r\n    padding: 16px 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    background: rgb(15, 147, 208);\r\n    color: #fff;\r\n    display: inline-block;\r\n    &:hover {\r\n        cursor: pointer;\r\n    }\r\n    > input[type='file'] {\r\n        display: none;\r\n    }\r\n}\r\n</style>","const cache = {};\r\nexport default function(url) {\r\n    return new Promise((resolve, reject) => {\r\n        if (cache[url]) {\r\n            resolve(cache[url]);\r\n            return;\r\n        }\r\n\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            cache[url] = img;\r\n            resolve(img);\r\n        };\r\n        img.onerror = reject;\r\n        img.src = url;\r\n    });\r\n}","import { render } from \"./ButtonLoadFile.vue?vue&type=template&id=7656cb8c\"\nimport script from \"./ButtonLoadFile.vue?vue&type=script&lang=js\"\nexport * from \"./ButtonLoadFile.vue?vue&type=script&lang=js\"\n\nimport \"./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}