{"version":3,"sources":["webpack:///./src/views/PhotoTouch.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/PhotoTouch.vue?8c1d","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/PhotoTouch.vue?36e7","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/modules/es.global-this.js","webpack:///./src/views/ButtonLoadFile.vue?7924","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///../../../node_modules/tslib/tslib.es6.js","webpack:///../../../node_modules/@any-touch/core/node_modules/any-event/dist/index.es.js","webpack:///../../../node_modules/@any-touch/shared/dist/index.es.js","webpack:///../../../node_modules/@any-touch/core/dist/index.es.js","webpack:///../../../node_modules/@any-touch/recognizer/dist/index.es.js","webpack:///../../../node_modules/@any-touch/vector/dist/index.es.js","webpack:///../../../node_modules/@any-touch/compute/dist/index.es.js","webpack:///../../../node_modules/@any-touch/tap/dist/index.es.js","webpack:///../../../node_modules/@any-touch/pan/dist/index.es.js","webpack:///../../../node_modules/@any-touch/swipe/dist/index.es.js","webpack:///../../../node_modules/@any-touch/press/dist/index.es.js","webpack:///../../../node_modules/@any-touch/pinch/dist/index.es.js","webpack:///../../../node_modules/@any-touch/rotate/dist/index.es.js","webpack:///../../../node_modules/any-touch/dist/index.es.js","webpack:///../../../node_modules/any-event/dist/index.es.js","webpack:///../../load-image/dist/index.es.js","webpack:///../src/index.ts","webpack:///../../photo/dist/index.es.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./src/views/ButtonLoadFile.vue","webpack:///./src/views/loadImage.js","webpack:///./src/views/ButtonLoadFile.vue?2c99","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["class","ref","style","loading","img","photoTouch","zoom","rotate","togglePreview","isShowLine","onImageLoaded","toDataURL","src","dataURL","value","offset","moveTo","Number","$event","target","type","max","org","changeOrg","scale","zoomTo","min","step","angle","rotateTo","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","name","components","ButtonLoadFile","data","overlayImgs","activeOverlay","width","height","background","lineOverlays","previewOverlays","watch","this","changeOverlay","changeBackground","mounted","$refs","canvas","on","methods","$nextTick","console","log","e","source","changeImg","reset","render","$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","proto","forced","reduce","callbackfn","arguments","length","undefined","classof","regexpExec","module","exports","R","S","exec","result","call","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","Math","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","String","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","regexp","indexOf","res","done","rx","functionalReplace","fullUnicode","unicode","lastIndex","results","push","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","trim","globalThis","_typeof","obj","constructor","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","extendStatics","d","b","__proto__","p","hasOwnProperty","__extends","__","create","__assign","assign","t","s","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","next","rejected","then","__generator","body","y","g","_","label","sent","trys","ops","verb","throw","return","v","op","pop","__values","o","__read","r","ar","default_1","listenersMap","el","_this","eventName","listener","_a","e_1","_b","eventNames","eventNames_1","eventNames_1_1","e_1_1","off","listeners","findIndex","fn","splice","emit","payload","beforeHook","e_2","listeners_1","listeners_1_1","e_2_1","destroy","ObjectToString","toString","INPUT_CANCEL","INPUT_END","TOUCH_END","TOUCH_CANCEL","SUPPORT_TOUCH","window","wx","STATUS_START","STATUS_MOVE","STATUS_END","STATUS_RECOGNIZED","STATUS_FAILED","STATUS_CANCELLED","round2","round","default_1$1","_super","load","event","targets","points","touches","clientX","clientY","contains","changedPoints","changedTouches","map","inputType","nativeEvent","default_1$2","isPressed","button","MOUSE","prevPoints","default_1$3","Input","adapter","id","transform","prevInput","activeInput","baseInputWithoutId","MAX_SAFE_INTEGER","pureInput","inputBase","pointLength","isStart","isEnd","timestamp","performance","now","getCenter","x","currentTarget","getOffset","rect","getBoundingClientRect","top","startInput","startMultiInput","countPoint","point","dispatchDomEvent","eventInit","getOwnPropertySymbols","propertyIsEnumerable","document","createEvent","initEvent","bubbles","cancelable","Event","every","dispatchEvent","canPreventDefault","options","isPreventDefault","input","preventDefaultExclude","tagName","test","TOUCH_EVENT_NAMES","TOUCH","use","instanceOrClass","Recognizer","recognizerMap","instance","recognizers","removeUse","recognizerName","entries","_c","_d","emit2","at","currentTarget_1","domEvents","_type","DEFAULT_OPTIONS","AnyTouch","cacheComputedFunctionGroup","webkitTapHighlightColor","supportsPassive_1","opts","defineProperty","get","addEventListener","callback","device","removeEventListener","catchEvent","bind","passive","preventDefault","AT_TOUCH_WITH_STATUS","cacheComputedGroup","_loop_1","recognizer","disabled","computedGroup","computeFunctionMap","this_1","recognize","ev","baseType","freeze","beforeEachHook","beforeEach","hook","set","version","AnyEvent","resetStatus","status","recognizeForPressMoveLike","isVaild","activeStatus","_e","_f","_g","STATE_MAP","0","computed","isRecognized","includes","isValidPointLength","compute","Cs","Cs_1","Cs_1_1","C","_id","key","getVLength","sqrt","radianToAngle","radian","PI","getAngle","v1","v2","mr","acos","getDirection","abs","ComputeDeltaXY","deltaX","deltaY","deltaXYAngle","deltaXY","pow","computeDistance","displacementX","displacementY","distanceX","distanceY","distance","overallDirection","computeMaxLength","maxPointLength","ComputeVAndDir","direction","_lastValidInput","velocityX","velocityY","speedX","speedY","deltaTime","computeVector","ComputeVectorForMutli","startV","prevV","activeV","tapTimes","waitNextTapTime","maxDistance","maxDistanceFromPrevTap","maxPressTime","tapCount","_isValidDistanceFromPrevTap","center","prevTapPoint","distanceFromPreviousTap","_isValidInterval","prevTapTime","interval","ComputeMaxLength","ComputeDistance","cancelCountDownToFail","countDownToFail","_countDownToFailTimer","setTimeout","clearTimeout","threshold","velocity","minPressTime","resetStatusForPressMoveLike","cancel","_timeoutId","deltaScale","deltaAngle","Tap","Pan","Swipe","Press","Pinch","Rotate","STATUS_POSSIBLE","beforeEmit","cache","loadImage","url","image","createElement","context","getContext","fillStyle","fillRect","img_1","Image","setAttribute","onload","onerror","moveRate","offsetWidth","newOrg","move","canvasWidth","canvasHeight","overlayImages","backgroundImages","imgWidth","imgHeight","offsetInOA","offsetInOB","_timeout","enumerable","configurable","rad","backgroundImage","overlayImage","_h","clearRect","drawChessboard","drawImage","save","translate","restore","switchToOB","overlays","_i","overlays_1","overlays_1_1","overlay","e_3_1","e_3","backgrounds","backgrounds_1","backgrounds_1_1","e_4_1","e_4","getCenterRectOffsetTopLeft","dx","dy","changeOrgToImageCenter","newOrgInOB","orgInOA","switchToOA","cos","sin","count","ceil","size","color","stroke","rate","newHeight","newWidth","regexpFlags","stickyHelpers","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","re","sticky","flags","charsAdded","strCopy","multiline","fails","RE","accept","multiple","onChange","props","cropSize","default","cropRate","readFile","file","reader","FileReader","readAsDataURL","crop","fileName","files","array","all","$emit","sourceWidth","sourceHeight","sourceY","sourceX","cropAxis","args","toAbsoluteIndex","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","A","k","to","len","actualStart","argumentsLength","$every","METHOD_NAME","argument","method","DESCRIPTORS","isForced","redefine","has","inheritIfRequired","toPrimitive","getOwnPropertyNames","getOwnPropertyDescriptor","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","first","third","radix","maxCode","digits","code","charCodeAt","NaN","parseInt","NumberWrapper","valueOf","keys","split","stat","isExtensible","preventExtensions","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","$includes","aFunction","IndexedObject","IS_RIGHT","that","memo","self","right","wellKnownSymbol","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","a","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","arg","$map","FREEZING","onFreeze","nativeFreeze","FAILS_ON_PRIMITIVES","hiddenKeys","uid","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","meta","REQUIRED"],"mappings":"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","file":"js/PhotoTouch.4fb15d76.js","sourcesContent":["<template>\r\n    <article class=\"page-photo-touch\">\r\n        <section class=\"d-flex pos-r\">\r\n            <canvas ref=\"canvas\" style=\"width:100%;\"></canvas>\r\n            <p v-if=\"loading\">loading</p>\r\n            <div v-if=\"null !== img\" class=\"pos-a\" style=\"width:50px; right:-8px;top:16px;\">\r\n                <button\r\n                    class=\"a-button a-button--dark ml-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.zoom(0.9)\"\r\n                >\r\n                    <i class=\"ion-md-remove font-1\"></i>\r\n                </button>\r\n                <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.zoom(1.1)\"\r\n                >\r\n                    <i class=\"ion-md-add font-1\"></i>\r\n                </button>\r\n\r\n                <!-- <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.rotate(-90)\"\r\n                >\r\n                    <i class=\"ion-md-refresh rotate-180 d-block font-1\"></i>\r\n                </button>-->\r\n                <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.rotate(90)\"\r\n                >\r\n                    <i class=\"ion-md-refresh font-1\"></i>\r\n                </button>\r\n\r\n                <button\r\n                    class=\"a-button a-button--danger mt-1\"\r\n                    style=\"background:rgba(255, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"togglePreview\"\r\n                >\r\n                    <i :class=\"[`ion-md-eye${isShowLine ? '' : '-off'}`]\" class=\"font-1\"></i>\r\n                </button>\r\n            </div>\r\n        </section>\r\n\r\n        <div class=\"d-flex mt-1\">\r\n            <ButtonLoadFile\r\n                class=\"a-button a-button--dark a-button--outline flex-1\"\r\n                @loaded=\"onImageLoaded\"\r\n            ><i class=\"ion-md-image font-1\" style=\"vertical-align: sub;\"/> Change</ButtonLoadFile>\r\n\r\n            <button class=\"a-button a-button--primary flex-1\" @click=\"toDataURL\">\r\n                <i class=\"ion-md-checkmark font-1\" style=\"vertical-align: sub;\"></i> Done\r\n            </button>\r\n        </div>\r\n        <img style=\"width:100%;\" :src=\"dataURL\" />\r\n        <section>\r\n            <hr class=\"mt-2\" />\r\n            <!-- Offset -->\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[0]\"\r\n                    @input=\"photoTouch.moveTo(Number($event.target.value),offset[1])\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetX: {{offset[0]}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[1]\"\r\n                    @input=\"photoTouch.moveTo(offset[0],Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetY: {{offset[1]}}\r\n            </label>\r\n            <hr class=\"mt-2\" />\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[0]\"\r\n                    @input=\"photoTouch.changeOrg([org[0],Number($event.target.value)])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OX:{{org[0]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[1]\"\r\n                    @input=\"photoTouch.changeOrg([Number($event.target.value), org[1]])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OY:{{org[1]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"scale\"\r\n                    @input=\"photoTouch.zoomTo(Number($event.target.value))\"\r\n                    min=\"0.1\"\r\n                    max=\"2\"\r\n                    step=\"0.1\"\r\n                    type=\"range\"\r\n                />\r\n                Scale: {{scale}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"angle\"\r\n                    @input=\"photoTouch.rotateTo(Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"360\"\r\n                />\r\n                A:{{angle}}\r\n            </label>\r\n        </section>\r\n    </article>\r\n</template>\r\n<script>\r\nimport PhotoTouch from '../../../packages/photo-touch/dist/photo-touch.umd';\r\nimport ButtonLoadFile from './ButtonLoadFile';\r\nexport default {\r\n    name: 'DIY',\r\n\r\n    components: { ButtonLoadFile },\r\n\r\n    data() {\r\n        return {\r\n            dataURL: '',\r\n            loading: false,\r\n            img: null,\r\n            isShowLine: false,\r\n            photoTouch: null,\r\n            overlayImgs: [],\r\n            activeOverlay: {},\r\n            org: [1642 / 2, 2434 / 2],\r\n            angle: 0,\r\n            scale: 1,\r\n            offset: [0, 0],\r\n            width: 1642,\r\n            height: 2434,\r\n            background: '#fff',\r\n\r\n            lineOverlays: [\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_b44dc4e2-3e32-4b51-80de-675d8a273aed.png?v=1597476179',\r\n            ],\r\n\r\n            previewOverlays: [\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_0d08b826-a84d-4224-aca2-4f928c6fe6e5.png?v=1597476180',\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_9fa84a77-f492-424d-be4c-6241e4aa6bd7.png?v=1597476180',\r\n            ],\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        isShowLine(isShowLine) {\r\n            const { img } = this;\r\n            this.loading = true;\r\n            if (isShowLine) {\r\n                this.photoTouch.changeOverlay(...this.lineOverlays);\r\n            } else {\r\n                this.photoTouch.changeBackground(this.background);\r\n                this.photoTouch.changeOverlay(...this.previewOverlays);\r\n            }\r\n            this.loading = false;\r\n        },\r\n    },\r\n\r\n    async mounted() {\r\n        this.photoTouch = new PhotoTouch(this.$refs.canvas, this.width, this.height);\r\n        this.photoTouch.on('transform', ({ offset, scale, angle, org }) => {\r\n            this.offset = offset;\r\n            this.scale = scale;\r\n            this.angle = angle;\r\n            this.org = org;\r\n        });\r\n\r\n        this.photoTouch.on(['panstart', 'pinchstart', 'rotatestart', 'tap'], () => {\r\n            this.isShowLine = true;\r\n        });\r\n\r\n        this.photoTouch.on(['panend', 'pinchend', 'rotateend'], () => {\r\n            this.isShowLine = false;\r\n        });\r\n    },\r\n\r\n    methods: {\r\n        toDataURL() {\r\n            this.isShowLine = false;\r\n            this.$nextTick(() => {\r\n                this.dataURL = this.photoTouch.canvas.toDataURL('image/jpeg',0.7);\r\n                console.log(this.img.src)\r\n            });\r\n        },\r\n        async togglePreview() {\r\n            this.isShowLine = !this.isShowLine;\r\n        },\r\n\r\n        async onImageLoaded(e) {\r\n            this.loading = true;\r\n            const { img } = e[0].source;\r\n            this.img = img;\r\n            this.photoTouch.changeBackground(this.background);\r\n            this.photoTouch.changeImg(img);\r\n            this.photoTouch.changeOverlay(...this.previewOverlays);\r\n            this.loading = false;\r\n        },\r\n\r\n        reset() {\r\n            this.photoTouch.reset();\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\narticle.page-photo-touch {\r\n    padding: 16px;\r\n  }\r\n\r\n@media (min-width: 640px) {\r\n  article.page-photo-touch {\r\n    max-width: 375px;\r\n    margin: 16px auto;\r\n    box-shadow: 0 0 8px 1px rgba(#000,0.1);\r\n  }\r\n}\r\n\r\n\r\ncanvas {\r\n    cursor: move;\r\n}\r\nlabel {\r\n    display: block;\r\n}\r\n</style>","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { render } from \"./PhotoTouch.vue?vue&type=template&id=6cc40279\"\nimport script from \"./PhotoTouch.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoTouch.vue?vue&type=script&lang=js\"\n\nimport \"./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss\"","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://github.com/tc39/proposal-global\n$({ global: true }, {\n  globalThis: global\n});\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss\"","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __values } from 'tslib';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n        this.listenersMap = {};\r\n    }\r\n    default_1.prototype.target = function (el) {\r\n        var _this = this;\r\n        return {\r\n            on: function (eventName, listener) {\r\n                _this.on(eventName, listener, { target: el });\r\n            }\r\n        };\r\n    };\r\n    default_1.prototype.on = function (eventName, listener, _a) {\r\n        var e_1, _b;\r\n        var target = (_a === void 0 ? {} : _a).target;\r\n        var eventNames = Array.isArray(eventName) ? eventName : [eventName];\r\n        try {\r\n            for (var eventNames_1 = __values(eventNames), eventNames_1_1 = eventNames_1.next(); !eventNames_1_1.done; eventNames_1_1 = eventNames_1.next()) {\r\n                var name = eventNames_1_1.value;\r\n                if (void 0 === this.listenersMap[name]) {\r\n                    this.listenersMap[name] = [];\r\n                }\r\n                if (void 0 !== target) {\r\n                    listener.target = target;\r\n                }\r\n                this.listenersMap[name].push(listener);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (eventNames_1_1 && !eventNames_1_1.done && (_b = eventNames_1.return)) _b.call(eventNames_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    default_1.prototype.off = function (eventName, listener) {\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners) {\r\n            if (void 0 === listener) {\r\n                delete this.listenersMap[eventName];\r\n            }\r\n            else {\r\n                var index = listeners.findIndex(function (fn) { return fn === listener; });\r\n                listeners.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.emit = function (eventName, payload, beforeHook) {\r\n        var e_2, _a;\r\n        if (beforeHook === void 0) { beforeHook = function () { return true; }; }\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners && 0 < listeners.length) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    var target = listener.target;\r\n                    if (beforeHook({ target: target })) {\r\n                        listener(payload);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.destroy = function () {\r\n        this.listenersMap = {};\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\n","var ObjectToString = Object.prototype.toString;\r\nfunction isRegExp(input) {\r\n    return '[object RegExp]' === ObjectToString.call(input);\r\n}\r\nfunction isFunction(input) {\r\n    return '[object Function]' === ObjectToString.call(input);\r\n}\n\nvar CLIENT_X = 'clientX';\r\nvar CLIENT_Y = 'clientY';\r\nvar COMPUTE_INTERVAL = 16;\r\nvar INPUT_START = 'start';\r\nvar INPUT_MOVE = 'move';\r\nvar INPUT_CANCEL = 'cancel';\r\nvar INPUT_END = 'end';\r\nvar DIRECTION_LEFT = 'left';\r\nvar DIRECTION_RIGHT = 'right';\r\nvar DIRECTION_UP = 'up';\r\nvar DIRECTION_DOWN = 'down';\r\nvar NONE = 'none';\r\nvar TOUCH = 'touch';\r\nvar MOUSE = 'mouse';\r\nvar TOUCH_START = TOUCH + INPUT_START;\r\nvar TOUCH_MOVE = TOUCH + INPUT_MOVE;\r\nvar TOUCH_END = TOUCH + INPUT_END;\r\nvar TOUCH_CANCEL = TOUCH + INPUT_CANCEL;\r\nvar MOUSE_UP = MOUSE + DIRECTION_UP;\r\nvar MOUSE_MOVE = MOUSE + INPUT_MOVE;\r\nvar MOUSE_DOWN = MOUSE + DIRECTION_DOWN;\r\nvar SUPPORT_TOUCH = window.wx || \"on\" + TOUCH_START in window;\r\nvar STATUS_POSSIBLE = 'p';\r\nvar STATUS_START = INPUT_START;\r\nvar STATUS_MOVE = INPUT_MOVE;\r\nvar STATUS_END = INPUT_END;\r\nvar STATUS_RECOGNIZED = 'r';\r\nvar STATUS_FAILED = 'f';\r\nvar STATUS_CANCELLED = INPUT_CANCEL;\n\nfunction round2(n) {\r\n    return Math.round(n * 100) / 100;\r\n}\n\nexport { CLIENT_X, CLIENT_Y, COMPUTE_INTERVAL, DIRECTION_DOWN, DIRECTION_LEFT, DIRECTION_RIGHT, DIRECTION_UP, INPUT_CANCEL, INPUT_END, INPUT_MOVE, INPUT_START, MOUSE, MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, NONE, STATUS_CANCELLED, STATUS_END, STATUS_FAILED, STATUS_MOVE, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_START, SUPPORT_TOUCH, TOUCH, TOUCH_CANCEL, TOUCH_END, TOUCH_MOVE, TOUCH_START, isFunction, isRegExp, round2 };\n","import { __extends, __assign, __rest, __values, __read } from 'tslib';\nimport AnyEvent from 'any-event';\nimport { MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, INPUT_START, INPUT_MOVE, INPUT_END, INPUT_CANCEL, SUPPORT_TOUCH, CLIENT_X, CLIENT_Y, isRegExp, isFunction, TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL, TOUCH } from '@any-touch/shared';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n    }\r\n    return default_1;\r\n}());\n\nvar default_1$1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    default_1.prototype.load = function (event, el) {\r\n        var targets = [];\r\n        var points = [];\r\n        Array.from(event.touches).forEach(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            if (el === null || el === void 0 ? void 0 : el.contains(target)) {\r\n                targets.push(target);\r\n                points.push({ clientX: clientX, clientY: clientY, target: target });\r\n            }\r\n        });\r\n        var changedPoints = Array.from(event.changedTouches).map(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            return ({ clientX: clientX, clientY: clientY, target: target });\r\n        });\r\n        return {\r\n            inputType: event.type.replace('touch', ''),\r\n            changedPoints: changedPoints,\r\n            points: points,\r\n            nativeEvent: event,\r\n            target: event.target,\r\n            targets: targets\r\n        };\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nvar default_1$2 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1() {\r\n        var _this = _super.call(this) || this;\r\n        _this.target = null;\r\n        _this.isPressed = false;\r\n        return _this;\r\n    }\r\n    default_1.prototype.load = function (event) {\r\n        var clientX = event.clientX, clientY = event.clientY, type = event.type, button = event.button, target = event.target;\r\n        var points = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        var inputType;\r\n        if (MOUSE_DOWN === type && 0 === button) {\r\n            this.target = target;\r\n            this.isPressed = true;\r\n            inputType = INPUT_START;\r\n        }\r\n        else if (this.isPressed) {\r\n            if (MOUSE_MOVE === type) {\r\n                inputType = INPUT_MOVE;\r\n            }\r\n            else if (MOUSE_UP === type) {\r\n                points = [];\r\n                inputType = INPUT_END;\r\n                this.isPressed = false;\r\n            }\r\n        }\r\n        var changedPoints = this.prevPoints || [{ clientX: clientX, clientY: clientY, target: target }];\r\n        this.prevPoints = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        if (void 0 !== inputType) {\r\n            return {\r\n                inputType: inputType,\r\n                changedPoints: changedPoints,\r\n                points: points,\r\n                target: this.target,\r\n                targets: [this.target],\r\n                nativeEvent: event\r\n            };\r\n        }\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nvar default_1$3 = (function () {\r\n    function default_1(el) {\r\n        var Input = SUPPORT_TOUCH ? default_1$1 : default_1$2;\r\n        this.adapter = new Input();\r\n        this.id = 0;\r\n        this.el = el;\r\n    }\r\n    default_1.prototype.transform = function (event) {\r\n        this.prevInput = this.activeInput;\r\n        var baseInputWithoutId = this.adapter.load(event, this.el);\r\n        if (void 0 !== baseInputWithoutId) {\r\n            var id = Number.MAX_SAFE_INTEGER > this.id ? ++this.id : 1;\r\n            var baseInput = __assign(__assign({}, baseInputWithoutId), { id: id });\r\n            var pureInput = extendInput(baseInput);\r\n            this.activeInput = pureInput;\r\n            var isStart = pureInput.isStart, pointLength = pureInput.pointLength;\r\n            if (isStart) {\r\n                this.startInput = pureInput;\r\n                this.prevInput = void 0;\r\n                if (1 < pointLength) {\r\n                    this.startMultiInput = pureInput;\r\n                }\r\n                else {\r\n                    this.startMultiInput = void 0;\r\n                }\r\n            }\r\n            return __assign(__assign({}, pureInput), { prevInput: this.prevInput, startMultiInput: this.startMultiInput, startInput: this.startInput });\r\n        }\r\n    };\r\n    return default_1;\r\n}());\r\nfunction getCenter(points) {\r\n    var length = points.length;\r\n    if (0 < length) {\r\n        if (1 === length) {\r\n            var _a = points[0], clientX = _a.clientX, clientY = _a.clientY;\r\n            return { x: Math.round(clientX), y: Math.round(clientY) };\r\n        }\r\n        var countPoint = points.reduce(function (countPoint, point) {\r\n            countPoint.x += point[CLIENT_X];\r\n            countPoint.y += point[CLIENT_Y];\r\n            return countPoint;\r\n        }, { x: 0, y: 0 });\r\n        return { x: Math.round(countPoint.x / length), y: Math.round(countPoint.y / length) };\r\n    }\r\n}\r\nfunction extendInput(inputBase) {\r\n    var inputType = inputBase.inputType, points = inputBase.points, changedPoints = inputBase.changedPoints, nativeEvent = inputBase.nativeEvent;\r\n    var pointLength = points.length;\r\n    var isStart = INPUT_START === inputType;\r\n    var isEnd = (INPUT_END === inputType && 0 === pointLength) || INPUT_CANCEL === inputType;\r\n    var timestamp = performance.now();\r\n    var _a = getCenter(points) || getCenter(changedPoints), x = _a.x, y = _a.y;\r\n    var currentTarget = nativeEvent.currentTarget;\r\n    return __assign(__assign({}, inputBase), { x: x, y: y,\r\n        timestamp: timestamp,\r\n        isStart: isStart, isEnd: isEnd,\r\n        pointLength: pointLength,\r\n        currentTarget: currentTarget,\r\n        getOffset: function (el) {\r\n            if (el === void 0) { el = currentTarget; }\r\n            var rect = el.getBoundingClientRect();\r\n            return { x: x - Math.round(rect.left), y: y - Math.round(rect.top) };\r\n        } });\r\n}\n\nfunction dispatchDomEvent (el, payload, eventInit) {\r\n    var target = payload.target, currentTarget = payload.currentTarget, type = payload.type, data = __rest(payload, [\"target\", \"currentTarget\", \"type\"]);\r\n    var event;\r\n    if (document.createEvent) {\r\n        event = document.createEvent('HTMLEvents');\r\n        event.initEvent(type, eventInit === null || eventInit === void 0 ? void 0 : eventInit.bubbles, eventInit === null || eventInit === void 0 ? void 0 : eventInit.cancelable);\r\n    }\r\n    else {\r\n        event = new Event(type, eventInit);\r\n    }\r\n    Object.assign(event, data, {\r\n        match: function () {\r\n            return payload.targets.every(function (target) {\r\n                return event.currentTarget.contains(target);\r\n            });\r\n        }\r\n    });\r\n    return el.dispatchEvent(event);\r\n}\n\nfunction canPreventDefault (event, options) {\r\n    if (!options.isPreventDefault)\r\n        return false;\r\n    var isPreventDefault = true;\r\n    if (null !== event.target) {\r\n        var preventDefaultExclude = options.preventDefaultExclude;\r\n        if (isRegExp(preventDefaultExclude)) {\r\n            if ('tagName' in event.target) {\r\n                var tagName = event.target.tagName;\r\n                isPreventDefault = !preventDefaultExclude.test(tagName);\r\n            }\r\n        }\r\n        else if (isFunction(preventDefaultExclude)) {\r\n            isPreventDefault = !preventDefaultExclude(event);\r\n        }\r\n    }\r\n    return isPreventDefault;\r\n}\n\nvar TOUCH_EVENT_NAMES = [TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL];\r\nfunction bindElement (el, callback, options, device) {\r\n    if (SUPPORT_TOUCH || 'Touch' === device) {\r\n        TOUCH_EVENT_NAMES.forEach(function (eventName) {\r\n            el.addEventListener(eventName, callback, options);\r\n        });\r\n        return function () {\r\n            TOUCH_EVENT_NAMES.forEach(function (eventName) {\r\n                el.removeEventListener(eventName, callback);\r\n            });\r\n        };\r\n    }\r\n    else {\r\n        el.addEventListener(MOUSE_DOWN, callback, options);\r\n        window.addEventListener(MOUSE_MOVE, callback, options);\r\n        window.addEventListener(MOUSE_UP, callback, options);\r\n        return function () {\r\n            el.removeEventListener(MOUSE_DOWN, callback);\r\n            window.removeEventListener(MOUSE_MOVE, callback);\r\n            window.removeEventListener(MOUSE_UP, callback);\r\n        };\r\n    }\r\n}\n\nfunction use(instanceOrClass, Recognizer, options) {\r\n    var name = options === null || options === void 0 ? void 0 : options.name;\r\n    if (void 0 !== name && void 0 !== instanceOrClass.recognizerMap[name])\r\n        return;\r\n    var instance = new Recognizer(options);\r\n    instanceOrClass.recognizerMap[instance.name] = instance;\r\n    instance.recognizerMap = instanceOrClass.recognizerMap;\r\n    instanceOrClass.recognizers.push(instanceOrClass.recognizerMap[instance.name]);\r\n}\r\nfunction removeUse(instanceOrClass, recognizerName) {\r\n    var e_1, _a;\r\n    if (void 0 === recognizerName) {\r\n        instanceOrClass.recognizers = [];\r\n        instanceOrClass.recognizerMap = {};\r\n    }\r\n    else {\r\n        try {\r\n            for (var _b = __values(instanceOrClass.recognizers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var _d = __read(_c.value, 2), index = _d[0], recognizer = _d[1];\r\n                if (recognizerName === recognizer.options.name) {\r\n                    instanceOrClass.recognizers.splice(index, 1);\r\n                    delete instanceOrClass.recognizerMap[recognizerName];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    }\r\n}\n\nvar AT_AFTER = 'at:after';\r\nfunction emit2(at, payload) {\r\n    var type = payload.type, target = payload.target, targets = payload.targets;\r\n    at.emit(type, payload, function (data) {\r\n        if (void 0 !== (data === null || data === void 0 ? void 0 : data.target)) {\r\n            var currentTarget_1 = data.target;\r\n            return targets.every(function (target) { return currentTarget_1.contains(target); });\r\n        }\r\n        return true;\r\n    });\r\n    at.emit(AT_AFTER, payload);\r\n    if (!!at.options.domEvents\r\n        && void 0 !== at.el\r\n        && null !== target) {\r\n        dispatchDomEvent(target, payload, at.options.domEvents);\r\n        dispatchDomEvent(target, __assign(__assign({}, payload), { _type: payload.type, type: AT_AFTER }), at.options.domEvents);\r\n    }\r\n}\n\nvar DEFAULT_OPTIONS = {\r\n    domEvents: { bubbles: true, cancelable: true },\r\n    isPreventDefault: true,\r\n    preventDefaultExclude: /^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/\r\n};\r\nvar AnyTouch = (function (_super) {\r\n    __extends(AnyTouch, _super);\r\n    function AnyTouch(el, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.recognizerMap = {};\r\n        _this.recognizers = [];\r\n        _this.cacheComputedFunctionGroup = Object.create(null);\r\n        _this.el = el;\r\n        _this.input = new default_1$3(el);\r\n        _this.options = __assign(__assign({}, DEFAULT_OPTIONS), options);\r\n        _this.recognizerMap = AnyTouch.recognizerMap;\r\n        _this.recognizers = AnyTouch.recognizers;\r\n        if (void 0 !== el) {\r\n            el.style.webkitTapHighlightColor = 'rgba(0,0,0,0)';\r\n            var supportsPassive_1 = false;\r\n            try {\r\n                var opts = {};\r\n                Object.defineProperty(opts, 'passive', ({\r\n                    get: function () {\r\n                        supportsPassive_1 = true;\r\n                    }\r\n                }));\r\n                window.addEventListener('_', function () { return void 0; }, opts);\r\n            }\r\n            catch (_a) { }\r\n            _this.on('unbind', bindElement(el, _this.catchEvent.bind(_this), !_this.options.isPreventDefault && supportsPassive_1 ? { passive: true } : false, _this.options.device));\r\n        }\r\n        return _this;\r\n    }\r\n    AnyTouch.prototype.use = function (Recognizer, options) {\r\n        use(this, Recognizer, options);\r\n    };\r\n    AnyTouch.prototype.removeUse = function (name) {\r\n        removeUse(this, name);\r\n    };\r\n    AnyTouch.prototype.catchEvent = function (event) {\r\n        var e_1, _a;\r\n        var _this = this;\r\n        if (canPreventDefault(event, this.options)) {\r\n            event.preventDefault();\r\n        }\r\n        var input = this.input.transform(event);\r\n        if (void 0 !== input) {\r\n            var AT_TOUCH = \"at:\" + TOUCH;\r\n            var AT_TOUCH_WITH_STATUS = AT_TOUCH + input.inputType;\r\n            this.emit(AT_TOUCH, input);\r\n            this.emit(AT_TOUCH_WITH_STATUS, input);\r\n            var domEvents = this.options.domEvents;\r\n            if (false !== domEvents) {\r\n                var target = event.target;\r\n                if (null !== target) {\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_TOUCH }), domEvents);\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_TOUCH_WITH_STATUS }), domEvents);\r\n                }\r\n            }\r\n            var cacheComputedGroup = Object.create(null);\r\n            var _loop_1 = function (recognizer) {\r\n                if (recognizer.disabled)\r\n                    return \"continue\";\r\n                recognizer.computedGroup = cacheComputedGroup;\r\n                recognizer.computeFunctionMap = this_1.cacheComputedFunctionGroup;\r\n                recognizer.recognize(input, function (type, ev) {\r\n                    var payload = __assign(__assign(__assign({}, input), ev), { type: type, baseType: recognizer.name });\r\n                    Object.freeze(payload);\r\n                    if (void 0 === _this.beforeEachHook) {\r\n                        emit2(_this, payload);\r\n                    }\r\n                    else {\r\n                        _this.beforeEachHook(recognizer, function () {\r\n                            emit2(_this, payload);\r\n                        });\r\n                    }\r\n                });\r\n                cacheComputedGroup = recognizer.computedGroup;\r\n                this_1.cacheComputedFunctionGroup = recognizer.computeFunctionMap;\r\n            };\r\n            var this_1 = this;\r\n            try {\r\n                for (var _b = __values(this.recognizers), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var recognizer = _c.value;\r\n                    _loop_1(recognizer);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n    };\r\n    AnyTouch.prototype.beforeEach = function (hook) {\r\n        this.beforeEachHook = hook;\r\n    };\r\n    AnyTouch.prototype.get = function (name) {\r\n        return this.recognizerMap[name];\r\n    };\r\n    AnyTouch.prototype.set = function (options) {\r\n        this.options = __assign(__assign({}, this.options), options);\r\n    };\r\n    AnyTouch.prototype.destroy = function () {\r\n        this.emit('unbind');\r\n        this.listenersMap = {};\r\n    };\r\n    AnyTouch.version = '0.7.7';\r\n    AnyTouch.recognizers = [];\r\n    AnyTouch.recognizerMap = {};\r\n    AnyTouch.use = function (Recognizer, options) {\r\n        use(AnyTouch, Recognizer, options);\r\n    };\r\n    AnyTouch.removeUse = function (recognizerName) {\r\n        removeUse(AnyTouch, recognizerName);\r\n    };\r\n    return AnyTouch;\r\n}(AnyEvent));\n\nexport default AnyTouch;\n","import { __assign, __values } from 'tslib';\nimport { STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED, STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, INPUT_MOVE, INPUT_END, INPUT_CANCEL, INPUT_START } from '@any-touch/shared';\n\nfunction resetStatus (recognizer) {\r\n    if (-1 !== [STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED].indexOf(recognizer.status)) {\r\n        recognizer.status = STATUS_POSSIBLE;\r\n    }\r\n}\n\nfunction flow(isVaild, activeStatus, inputType) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var STATE_MAP = {\r\n        1: (_a = {},\r\n            _a[STATUS_POSSIBLE] = (_b = {},\r\n                _b[INPUT_MOVE] = STATUS_START,\r\n                _b),\r\n            _a[STATUS_START] = (_c = {},\r\n                _c[INPUT_MOVE] = STATUS_MOVE,\r\n                _c[INPUT_END] = STATUS_END,\r\n                _c[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _c),\r\n            _a[STATUS_MOVE] = (_d = {},\r\n                _d[INPUT_MOVE] = STATUS_MOVE,\r\n                _d[INPUT_END] = STATUS_END,\r\n                _d[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _d),\r\n            _a),\r\n        0: (_e = {},\r\n            _e[STATUS_START] = (_f = {},\r\n                _f[INPUT_MOVE] = STATUS_CANCELLED,\r\n                _f[INPUT_END] = STATUS_END,\r\n                _f[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _f),\r\n            _e[STATUS_MOVE] = (_g = {},\r\n                _g[INPUT_START] = STATUS_FAILED,\r\n                _g[INPUT_MOVE] = STATUS_CANCELLED,\r\n                _g[INPUT_END] = STATUS_END,\r\n                _g[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _g),\r\n            _e)\r\n    };\r\n    if (void 0 !== STATE_MAP[Number(isVaild)][activeStatus]) {\r\n        return STATE_MAP[Number(isVaild)][activeStatus][inputType] || activeStatus;\r\n    }\r\n    else {\r\n        return activeStatus;\r\n    }\r\n}\r\nfunction recognizeForPressMoveLike (recognizer, input, emit) {\r\n    var isVaild = recognizer.test(input);\r\n    resetStatus(recognizer);\r\n    var inputType = input.inputType;\r\n    recognizer.status = flow(isVaild, recognizer.status, inputType);\r\n    var computed = recognizer.computed;\r\n    recognizer.isRecognized = [STATUS_START, STATUS_MOVE].includes(recognizer.status);\r\n    var name = recognizer.name, status = recognizer.status, isRecognized = recognizer.isRecognized;\r\n    if (isRecognized) {\r\n        emit(name, computed);\r\n    }\r\n    if (isRecognized || [STATUS_END, STATUS_CANCELLED].includes(recognizer.status)) {\r\n        emit(name + status, computed);\r\n    }\r\n    return isVaild;\r\n}\n\nvar default_1 = (function () {\r\n    function default_1(options) {\r\n        this.disabled = false;\r\n        this.status = STATUS_POSSIBLE;\r\n        this.isRecognized = false;\r\n        this.recognizerMap = {};\r\n        this.computedGroup = {};\r\n        this.computed = {};\r\n        this.computeFunctionMap = {};\r\n        this.options = options;\r\n        this.name = this.options.name;\r\n    }\r\n    default_1.prototype.set = function (options) {\r\n        if (void 0 !== options) {\r\n            this.options = __assign(__assign({}, this.options), options);\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.isValidPointLength = function (pointLength) {\r\n        return 0 === this.options.pointLength || this.options.pointLength === pointLength;\r\n    };\r\n    default_1.prototype.compute = function (Cs, input) {\r\n        var e_1, _a;\r\n        var computed = Object.create(null);\r\n        try {\r\n            for (var Cs_1 = __values(Cs), Cs_1_1 = Cs_1.next(); !Cs_1_1.done; Cs_1_1 = Cs_1.next()) {\r\n                var C = Cs_1_1.value;\r\n                var _id = C._id;\r\n                var _b = this, computedGroup = _b.computedGroup, computeFunctionMap = _b.computeFunctionMap;\r\n                if (void 0 === computeFunctionMap[_id]) {\r\n                    computeFunctionMap[_id] = C();\r\n                }\r\n                computedGroup[_id] = computedGroup[_id] || computeFunctionMap[_id](input);\r\n                for (var key in computedGroup[_id]) {\r\n                    computed[key] = computedGroup[_id][key];\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (Cs_1_1 && !Cs_1_1.done && (_a = Cs_1.return)) _a.call(Cs_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return computed;\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\nexport { recognizeForPressMoveLike, resetStatus as resetStatusForPressMoveLike };\n","import { NONE, DIRECTION_RIGHT, DIRECTION_LEFT, DIRECTION_DOWN, DIRECTION_UP } from '@any-touch/shared';\n\nvar getVLength = (function (v) {\r\n    return Math.sqrt(v.x * v.x + v.y * v.y);\r\n});\n\nvar getDotProduct = (function (v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n});\n\nvar getRadian = (function (v1, v2) {\r\n    var mr = getVLength(v1) * getVLength(v2);\r\n    if (mr === 0)\r\n        return 0;\r\n    var r = getDotProduct(v1, v2) / mr;\r\n    if (r > 1)\r\n        r = 1;\r\n    return Math.acos(r);\r\n});\n\nvar getCross = (function (v1, v2) {\r\n    return v1.x * v2.y - v2.x * v1.y;\r\n});\n\nvar radianToAngle = (function (radian) { return radian / Math.PI * 180; });\n\nvar getAngle = (function (v1, v2) {\r\n    var angle = getRadian(v1, v2);\r\n    if (getCross(v1, v2) > 0) {\r\n        angle *= -1;\r\n    }\r\n    return radianToAngle(angle);\r\n});\n\nvar getDirection = (function (x, y) {\r\n    if (x === y) {\r\n        return NONE;\r\n    }\r\n    else if (Math.abs(x) > Math.abs(y)) {\r\n        return 0 < x ? DIRECTION_RIGHT : DIRECTION_LEFT;\r\n    }\r\n    else {\r\n        return 0 < y ? DIRECTION_DOWN : DIRECTION_UP;\r\n    }\r\n});\n\nexport { getAngle, getCross, getDirection, getDotProduct, getRadian, getVLength, radianToAngle };\n","import { getAngle, radianToAngle, getVLength, getDirection } from '@any-touch/vector';\nimport { INPUT_START, INPUT_MOVE, CLIENT_X, CLIENT_Y, NONE, round2, COMPUTE_INTERVAL } from '@any-touch/shared';\n\nfunction computeAngle (_a) {\r\n    var startV = _a.startV, prevV = _a.prevV, activeV = _a.activeV;\r\n    var deltaAngle = Math.round(getAngle(activeV, prevV));\r\n    var angle = Math.round(getAngle(activeV, startV));\r\n    return { angle: angle, deltaAngle: deltaAngle };\r\n}\n\nfunction ComputeDeltaXY() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput;\r\n        var deltaX = 0;\r\n        var deltaY = 0;\r\n        var deltaXYAngle = 0;\r\n        if (void 0 !== prevInput) {\r\n            deltaX = input.x - prevInput.x;\r\n            deltaY = input.y - prevInput.y;\r\n            if (0 !== deltaX || 0 !== deltaY) {\r\n                var deltaXY = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n                deltaXYAngle = Math.round(radianToAngle(Math.acos(Math.abs(deltaX) / deltaXY)));\r\n            }\r\n        }\r\n        return { deltaX: deltaX, deltaY: deltaY, deltaXYAngle: deltaXYAngle };\r\n    };\r\n}\r\nComputeDeltaXY._id = \"ComputeDeltaXY\";\n\nfunction computeDistance() {\r\n    var displacementX = 0;\r\n    var displacementY = 0;\r\n    var distanceX = 0;\r\n    var distanceY = 0;\r\n    var distance = 0;\r\n    var overallDirection = NONE;\r\n    return function (input) {\r\n        var inputType = input.inputType, startInput = input.startInput;\r\n        if (INPUT_START === inputType) {\r\n            displacementX = 0;\r\n            displacementY = 0;\r\n            distanceX = 0;\r\n            distanceY = 0;\r\n            distance = 0;\r\n            overallDirection = NONE;\r\n        }\r\n        else if (INPUT_MOVE === inputType) {\r\n            displacementX = Math.round(input.points[0][CLIENT_X] - startInput.points[0][CLIENT_X]);\r\n            displacementY = Math.round(input.points[0][CLIENT_Y] - startInput.points[0][CLIENT_Y]);\r\n            distanceX = Math.abs(displacementX);\r\n            distanceY = Math.abs(displacementY);\r\n            distance = Math.round(getVLength({ x: distanceX, y: distanceY }));\r\n            overallDirection = getDirection(displacementX, displacementY);\r\n        }\r\n        return {\r\n            displacementX: displacementX, displacementY: displacementY, distanceX: distanceX, distanceY: distanceY, distance: distance, overallDirection: overallDirection\r\n        };\r\n    };\r\n}\r\ncomputeDistance._id = \"computeDistance\";\n\nfunction computeMaxLength() {\r\n    var maxPointLength = 0;\r\n    return function (input) {\r\n        var inputType = input.inputType;\r\n        if (INPUT_START === inputType) {\r\n            maxPointLength = input.pointLength;\r\n        }\r\n        return { maxPointLength: maxPointLength };\r\n    };\r\n}\r\ncomputeMaxLength._id = \"computeMaxLength\";\n\nfunction computeScale(_a) {\r\n    var startV = _a.startV, prevV = _a.prevV, activeV = _a.activeV;\r\n    var deltaScale = round2(getVLength(activeV) / getVLength(prevV));\r\n    var scale = round2(getVLength(activeV) / getVLength(startV));\r\n    return { scale: scale, deltaScale: deltaScale };\r\n}\n\nfunction ComputeVAndDir() {\r\n    var velocityX = 0;\r\n    var velocityY = 0;\r\n    var speedX = 0;\r\n    var speedY = 0;\r\n    var direction;\r\n    var _lastValidInput;\r\n    return function (input) {\r\n        if (void 0 !== input) {\r\n            var inputType = input.inputType;\r\n            _lastValidInput = _lastValidInput || input.startInput;\r\n            var deltaTime = input.timestamp - _lastValidInput.timestamp;\r\n            if (INPUT_MOVE === inputType && COMPUTE_INTERVAL < deltaTime) {\r\n                var deltaX = input.x - _lastValidInput.x;\r\n                var deltaY = input.y - _lastValidInput.y;\r\n                speedX = Math.round(deltaX / deltaTime * 100) / 100;\r\n                speedY = Math.round(deltaY / deltaTime * 100) / 100;\r\n                velocityX = Math.abs(speedX);\r\n                velocityY = Math.abs(speedY);\r\n                direction = getDirection(deltaX, deltaY) || (direction);\r\n                _lastValidInput = input;\r\n            }\r\n        }\r\n        return { velocityX: velocityX, velocityY: velocityY, speedX: speedX, speedY: speedY, direction: direction };\r\n    };\r\n}\r\nComputeVAndDir._id = \"ComputeVAndDir\";\n\nfunction computeVector(input) {\r\n    return {\r\n        x: input.points[1][CLIENT_X] - input.points[0][CLIENT_X],\r\n        y: input.points[1][CLIENT_Y] - input.points[0][CLIENT_Y]\r\n    };\r\n}\n\nfunction ComputeVectorForMutli() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput, startMultiInput = input.startMultiInput;\r\n        if (void 0 !== startMultiInput &&\r\n            void 0 !== prevInput &&\r\n            input.id !== startMultiInput.id &&\r\n            1 < prevInput.pointLength &&\r\n            1 < input.pointLength) {\r\n            return {\r\n                startV: computeVector(startMultiInput),\r\n                prevV: computeVector(prevInput),\r\n                activeV: computeVector(input)\r\n            };\r\n        }\r\n    };\r\n}\r\nComputeVectorForMutli._id = \"ComputeVectorForMutli\";\n\nexport { ComputeDeltaXY, computeDistance as ComputeDistance, computeMaxLength as ComputeMaxLength, ComputeVAndDir, ComputeVectorForMutli, computeAngle, computeScale, computeVector };\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_FAILED } from '@any-touch/shared';\nimport Recognizer from '@any-touch/recognizer';\nimport { getVLength } from '@any-touch/vector';\nimport { ComputeMaxLength, ComputeDistance } from '@any-touch/compute';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'tap',\r\n    pointLength: 1,\r\n    tapTimes: 1,\r\n    waitNextTapTime: 300,\r\n    maxDistance: 2,\r\n    maxDistanceFromPrevTap: 9,\r\n    maxPressTime: 250,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.tapCount = 0;\r\n        return _this;\r\n    }\r\n    default_1.prototype._isValidDistanceFromPrevTap = function (center) {\r\n        if (void 0 !== this.prevTapPoint) {\r\n            var distanceFromPreviousTap = getVLength({ x: center.x - this.prevTapPoint.x, y: center.y - this.prevTapPoint.y });\r\n            this.prevTapPoint = center;\r\n            return this.options.maxDistanceFromPrevTap >= distanceFromPreviousTap;\r\n        }\r\n        else {\r\n            this.prevTapPoint = center;\r\n            return true;\r\n        }\r\n    };\r\n    default_1.prototype._isValidInterval = function () {\r\n        var now = performance.now();\r\n        if (void 0 === this.prevTapTime) {\r\n            this.prevTapTime = now;\r\n            return true;\r\n        }\r\n        else {\r\n            var interval = now - this.prevTapTime;\r\n            this.prevTapTime = now;\r\n            return interval < this.options.waitNextTapTime;\r\n        }\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var inputType = input.inputType, x = input.x, y = input.y;\r\n        this.computed = this.compute([ComputeMaxLength, ComputeDistance], input);\r\n        if (INPUT_END !== inputType)\r\n            return;\r\n        this.status = STATUS_POSSIBLE;\r\n        if (this.test(input)) {\r\n            this.cancelCountDownToFail();\r\n            if (this._isValidDistanceFromPrevTap({ x: x, y: y }) && this._isValidInterval()) {\r\n                this.tapCount++;\r\n            }\r\n            else {\r\n                this.tapCount = 1;\r\n            }\r\n            if (0 === this.tapCount % this.options.tapTimes) {\r\n                this.status = STATUS_RECOGNIZED;\r\n                emit(this.options.name, __assign(__assign({}, this.computed), { tapCount: this.tapCount }));\r\n                this.reset();\r\n            }\r\n            else {\r\n                this.countDownToFail();\r\n            }\r\n        }\r\n        else {\r\n            this.reset();\r\n            this.status = STATUS_FAILED;\r\n        }\r\n    };\r\n    default_1.prototype.countDownToFail = function () {\r\n        var _this = this;\r\n        this._countDownToFailTimer = setTimeout(function () {\r\n            _this.status = STATUS_FAILED;\r\n            _this.reset();\r\n        }, this.options.waitNextTapTime);\r\n    };\r\n    default_1.prototype.cancelCountDownToFail = function () {\r\n        clearTimeout(this._countDownToFailTimer);\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        this.tapCount = 0;\r\n        this.prevTapPoint = void 0;\r\n        this.prevTapTime = void 0;\r\n    };\r\n    default_1.prototype.test = function (input) {\r\n        var startInput = input.startInput, pointLength = input.pointLength;\r\n        var deltaTime = input.timestamp - startInput.timestamp;\r\n        var _a = this.computed, maxPointLength = _a.maxPointLength, distance = _a.distance;\r\n        return maxPointLength === this.options.pointLength &&\r\n            0 === pointLength &&\r\n            this.options.maxDistance >= distance &&\r\n            this.options.maxPressTime > deltaTime;\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVAndDir, ComputeDistance, ComputeDeltaXY } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pan',\r\n    threshold: 10,\r\n    pointLength: 1\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var distance = this.computed.distance;\r\n        return ((this.isRecognized || this.options.threshold <= distance) &&\r\n            this.isValidPointLength(pointLength));\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        this.computed = this.compute([ComputeVAndDir, ComputeDistance, ComputeDeltaXY], input);\r\n        var isRecognized = void 0 !== this.computed.direction && recognizeForPressMoveLike(this, input, emit);\r\n        if (isRecognized) {\r\n            emit(this.options.name + this.computed.direction, this.computed);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END } from '@any-touch/shared';\nimport { ComputeMaxLength, ComputeVAndDir, ComputeDistance } from '@any-touch/compute';\nimport Recognizer from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'swipe',\r\n    threshold: 10,\r\n    velocity: 0.3,\r\n    pointLength: 1,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var inputType = input.inputType;\r\n        if (INPUT_END !== inputType)\r\n            return false;\r\n        var _a = this.computed, velocityX = _a.velocityX, velocityY = _a.velocityY, maxPointLength = _a.maxPointLength, distance = _a.distance;\r\n        return this.options.pointLength === maxPointLength &&\r\n            this.options.threshold < distance &&\r\n            this.options.velocity < Math.max(velocityX, velocityY);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        this.computed = this.compute([ComputeMaxLength, ComputeVAndDir, ComputeDistance], input);\r\n        if (this.test(input)) {\r\n            emit(this.options.name, this.computed);\r\n            emit(this.options.name + this.computed.direction, this.computed);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_START, STATUS_RECOGNIZED, INPUT_END, DIRECTION_UP, INPUT_CANCEL, STATUS_FAILED } from '@any-touch/shared';\nimport { ComputeDistance } from '@any-touch/compute';\nimport Recognizer, { resetStatusForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'press',\r\n    pointLength: 1,\r\n    maxDistance: 9,\r\n    minPressTime: 251,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var _this = this;\r\n        var inputType = input.inputType, startInput = input.startInput, pointLength = input.pointLength;\r\n        if (INPUT_START === inputType && this.isValidPointLength(pointLength)) {\r\n            resetStatusForPressMoveLike(this);\r\n            this.cancel();\r\n            this._timeoutId = setTimeout(function () {\r\n                _this.status = STATUS_RECOGNIZED;\r\n                emit(_this.options.name, input);\r\n            }, this.options.minPressTime);\r\n        }\r\n        else if (INPUT_END === inputType && STATUS_RECOGNIZED === this.status) {\r\n            emit(\"\" + this.options.name + DIRECTION_UP, this.computed);\r\n        }\r\n        else if (STATUS_RECOGNIZED !== this.status) {\r\n            var deltaTime = input.timestamp - startInput.timestamp;\r\n            if (!this.test(input) ||\r\n                (this.options.minPressTime > deltaTime && [INPUT_END, INPUT_CANCEL].includes(inputType))) {\r\n                this.cancel();\r\n                this.status = STATUS_FAILED;\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.test = function (input) {\r\n        this.computed = this.compute([ComputeDistance], input);\r\n        var distance = this.computed.distance;\r\n        return this.options.maxDistance > distance;\r\n    };\r\n    default_1.prototype.cancel = function () {\r\n        clearTimeout(this._timeoutId);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVectorForMutli, computeScale } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pinch',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var scale = this.computed.scale;\r\n        return this.isValidPointLength(pointLength)\r\n            && void 0 !== scale\r\n            && (this.options.threshold < Math.abs(scale - 1) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var computed = this.compute([ComputeVectorForMutli], input);\r\n        if (\"activeV\" in computed) {\r\n            this.computed = __assign(__assign({}, this.computed), computeScale(computed));\r\n        }\r\n        recognizeForPressMoveLike(this, input, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVectorForMutli, computeAngle } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'rotate',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var angle = this.computed.angle;\r\n        return this.isValidPointLength(pointLength) && (this.options.threshold < Math.abs(angle) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var computed = this.compute([ComputeVectorForMutli], input);\r\n        if (\"activeV\" in computed) {\r\n            this.computed = __assign(__assign({}, this.computed), computeAngle(computed));\r\n        }\r\n        recognizeForPressMoveLike(this, input, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import AnyTouch from '@any-touch/core';\nimport Tap from '@any-touch/tap';\nimport Pan from '@any-touch/pan';\nimport Swipe from '@any-touch/swipe';\nimport Press from '@any-touch/press';\nimport Pinch from '@any-touch/pinch';\nimport Rotate from '@any-touch/rotate';\nimport { STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, STATUS_END, STATUS_CANCELLED, STATUS_FAILED, STATUS_RECOGNIZED } from '@any-touch/shared';\n\nAnyTouch.use(Tap);\r\nAnyTouch.use(Pan);\r\nAnyTouch.use(Swipe);\r\nAnyTouch.use(Press);\r\nAnyTouch.use(Pinch);\r\nAnyTouch.use(Rotate);\r\nAnyTouch.Tap = Tap;\r\nAnyTouch.Pan = Pan;\r\nAnyTouch.Swipe = Swipe;\r\nAnyTouch.Press = Press;\r\nAnyTouch.Pinch = Pinch;\r\nAnyTouch.Rotate = Rotate;\r\nAnyTouch.STATUS_POSSIBLE = STATUS_POSSIBLE;\r\nAnyTouch.STATUS_START = STATUS_START;\r\nAnyTouch.STATUS_MOVE = STATUS_MOVE;\r\nAnyTouch.STATUS_END = STATUS_END;\r\nAnyTouch.STATUS_CANCELLED = STATUS_CANCELLED;\r\nAnyTouch.STATUS_FAILED = STATUS_FAILED;\r\nAnyTouch.STATUS_RECOGNIZED = STATUS_RECOGNIZED;\n\nexport default AnyTouch;\n","import { __values } from 'tslib';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n        this.listenersMap = {};\r\n    }\r\n    default_1.prototype.on = function (eventName, listener, beforeEmit) {\r\n        var e_1, _a;\r\n        var eventNames = Array.isArray(eventName) ? eventName : [eventName];\r\n        try {\r\n            for (var eventNames_1 = __values(eventNames), eventNames_1_1 = eventNames_1.next(); !eventNames_1_1.done; eventNames_1_1 = eventNames_1.next()) {\r\n                var name = eventNames_1_1.value;\r\n                if (void 0 === this.listenersMap[name]) {\r\n                    this.listenersMap[name] = [];\r\n                }\r\n                listener.beforeEmit = beforeEmit;\r\n                this.listenersMap[name].push(listener);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (eventNames_1_1 && !eventNames_1_1.done && (_a = eventNames_1.return)) _a.call(eventNames_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.emit = function (eventName, payload) {\r\n        var e_2, _a;\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners && 0 < listeners.length) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    if (void 0 === listener.beforeEmit) {\r\n                        listener(payload);\r\n                    }\r\n                    else if (void 0 !== payload && listener.beforeEmit(payload)) {\r\n                        listener(payload);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.off = function (eventName, listener) {\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners) {\r\n            if (void 0 === listener) {\r\n                delete this.listenersMap[eventName];\r\n            }\r\n            else {\r\n                var index = listeners.findIndex(function (fn) { return fn === listener; });\r\n                listeners.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.destroy = function () {\r\n        this.listenersMap = {};\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\n","var cache = {};\r\nfunction _isImage(image) {\r\n    return '[object HTMLImageElement]' === Object.prototype.toString.call(image);\r\n}\r\nfunction loadImage(url) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (_isImage(url)) {\r\n            resolve(url);\r\n        }\r\n        else if (/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(url)) {\r\n            var canvas = document.createElement('canvas');\r\n            canvas.width = 1;\r\n            canvas.height = 1;\r\n            var context = canvas.getContext('2d');\r\n            context.fillStyle = url;\r\n            context.fillRect(0, 0, 1, 1);\r\n            loadImage(canvas.toDataURL()).then(resolve);\r\n        }\r\n        else {\r\n            if (cache[url]) {\r\n                resolve(cache[url]);\r\n                return;\r\n            }\r\n            var img_1 = new Image();\r\n            img_1.setAttribute(\"crossOrigin\", 'Anonymous');\r\n            img_1.onload = function () {\r\n                cache[url] = img_1;\r\n                resolve(img_1);\r\n            };\r\n            img_1.onerror = reject;\r\n            img_1.src = url;\r\n        }\r\n    });\r\n}\n\nexport default loadImage;\n//# sourceMappingURL=index.es.js.map\n",null,"import { __extends, __awaiter, __generator, __values, __read } from 'tslib';\nimport AnyEvent from 'any-event';\nimport loadImage from '@photo-touch/load-image';\n\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(el, width, height) {\r\n        if (width === void 0) { width = 400; }\r\n        if (height === void 0) { height = 300; }\r\n        var _this = _super.call(this) || this;\r\n        _this.canvasWidth = 0;\r\n        _this.canvasHeight = 0;\r\n        _this.org = [0, 0];\r\n        _this.angle = 0;\r\n        _this.scale = 1;\r\n        _this.overlayImages = [];\r\n        _this.backgroundImages = [];\r\n        _this.imgWidth = 0;\r\n        _this.imgHeight = 0;\r\n        _this.offsetInOA = [0, 0];\r\n        _this.offsetInOB = [0, 0];\r\n        _this._timeout = -1;\r\n        el.width = width;\r\n        el.height = height;\r\n        _this.canvasWidth = width;\r\n        _this.canvasHeight = height;\r\n        _this.canvas = el;\r\n        _this.context = _this.canvas.getContext('2d');\r\n        return _this;\r\n    }\r\n    Object.defineProperty(default_1.prototype, \"rad\", {\r\n        get: function () {\r\n            return this.angle * Math.PI / 180;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    default_1.prototype.render = function () {\r\n        var _this = this;\r\n        clearTimeout(this._timeout);\r\n        this._timeout = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, context, canvasWidth, canvasHeight, org, rad, offsetInOB, scale, img, imgWidth, imgHeight, _b, _c, backgroundImage, _d, _e, overlayImage;\r\n            var e_1, _f, e_2, _g;\r\n            return __generator(this, function (_h) {\r\n                if (null == this.context || !this.img || 0 === this.canvasWidth || 0 === this.canvasHeight)\r\n                    return [2];\r\n                _a = this, context = _a.context, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, org = _a.org, rad = _a.rad, offsetInOB = _a.offsetInOB, scale = _a.scale, img = _a.img, imgWidth = _a.imgWidth, imgHeight = _a.imgHeight;\r\n                context.clearRect(0, 0, canvasWidth, canvasHeight);\r\n                this.drawChessboard(context);\r\n                try {\r\n                    for (_b = __values(this.backgroundImages), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                        backgroundImage = _c.value;\r\n                        context.drawImage(backgroundImage, 0, 0, this.canvasWidth, this.canvasHeight);\r\n                    }\r\n                }\r\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (_c && !_c.done && (_f = _b.return)) _f.call(_b);\r\n                    }\r\n                    finally { if (e_1) throw e_1.error; }\r\n                }\r\n                context.save();\r\n                context.translate(org[0], org[1]);\r\n                context.scale(scale, scale);\r\n                context.rotate(rad);\r\n                context.drawImage(img, 0, 0, img.width, img.height, offsetInOB[0], offsetInOB[1], imgWidth, imgHeight);\r\n                if ('development' === process.env.NODE_ENV) {\r\n                    context.fillStyle = '#d10';\r\n                    context.fillRect(-30 / scale, -30 / scale, 60 / scale, 60 / scale);\r\n                }\r\n                context.restore();\r\n                try {\r\n                    for (_d = __values(this.overlayImages), _e = _d.next(); !_e.done; _e = _d.next()) {\r\n                        overlayImage = _e.value;\r\n                        context.drawImage(overlayImage, 0, 0, this.canvasWidth, this.canvasHeight);\r\n                    }\r\n                }\r\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (_e && !_e.done && (_g = _d.return)) _g.call(_d);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                }\r\n                this.emit('transform', {\r\n                    offset: this.offsetInOA,\r\n                    scale: this.scale,\r\n                    angle: this.angle,\r\n                    org: this.org\r\n                });\r\n                return [2];\r\n            });\r\n        }); }, 0);\r\n    };\r\n    default_1.prototype.changeOrg = function (org) {\r\n        this.org = org;\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.render();\r\n    };\r\n    default_1.prototype.changeOverlay = function () {\r\n        var overlays = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            overlays[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var overlays_1, overlays_1_1, overlay, _a, _b, e_3_1;\r\n            var e_3, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        this.overlayImages = [];\r\n                        _d.label = 1;\r\n                    case 1:\r\n                        _d.trys.push([1, 6, 7, 8]);\r\n                        overlays_1 = __values(overlays), overlays_1_1 = overlays_1.next();\r\n                        _d.label = 2;\r\n                    case 2:\r\n                        if (!!overlays_1_1.done) return [3, 5];\r\n                        overlay = overlays_1_1.value;\r\n                        _b = (_a = this.overlayImages).push;\r\n                        return [4, loadImage(overlay)];\r\n                    case 3:\r\n                        _b.apply(_a, [_d.sent()]);\r\n                        _d.label = 4;\r\n                    case 4:\r\n                        overlays_1_1 = overlays_1.next();\r\n                        return [3, 2];\r\n                    case 5: return [3, 8];\r\n                    case 6:\r\n                        e_3_1 = _d.sent();\r\n                        e_3 = { error: e_3_1 };\r\n                        return [3, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (overlays_1_1 && !overlays_1_1.done && (_c = overlays_1.return)) _c.call(overlays_1);\r\n                        }\r\n                        finally { if (e_3) throw e_3.error; }\r\n                        return [7];\r\n                    case 8:\r\n                        this.render();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    default_1.prototype.changeBackground = function () {\r\n        var backgrounds = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            backgrounds[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var backgrounds_1, backgrounds_1_1, background, _a, _b, e_4_1;\r\n            var e_4, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        this.backgroundImages = [];\r\n                        _d.label = 1;\r\n                    case 1:\r\n                        _d.trys.push([1, 6, 7, 8]);\r\n                        backgrounds_1 = __values(backgrounds), backgrounds_1_1 = backgrounds_1.next();\r\n                        _d.label = 2;\r\n                    case 2:\r\n                        if (!!backgrounds_1_1.done) return [3, 5];\r\n                        background = backgrounds_1_1.value;\r\n                        _b = (_a = this.backgroundImages).push;\r\n                        return [4, loadImage(background)];\r\n                    case 3:\r\n                        _b.apply(_a, [_d.sent()]);\r\n                        _d.label = 4;\r\n                    case 4:\r\n                        backgrounds_1_1 = backgrounds_1.next();\r\n                        return [3, 2];\r\n                    case 5: return [3, 8];\r\n                    case 6:\r\n                        e_4_1 = _d.sent();\r\n                        e_4 = { error: e_4_1 };\r\n                        return [3, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (backgrounds_1_1 && !backgrounds_1_1.done && (_c = backgrounds_1.return)) _c.call(backgrounds_1);\r\n                        }\r\n                        finally { if (e_4) throw e_4.error; }\r\n                        return [7];\r\n                    case 8:\r\n                        this.render();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    default_1.prototype.changeImg = function (img) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this;\r\n                        return [4, loadImage(img)];\r\n                    case 1:\r\n                        _a.img = _b.sent();\r\n                        this.reset();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        if (!this.img)\r\n            return;\r\n        this.changeOrg([this.canvasWidth / 2, this.canvasHeight / 2]);\r\n        var _a = this.getCenterRectOffsetTopLeft(this.img.width, this.img.height, this.canvasWidth, this.canvasHeight), top = _a.top, left = _a.left, width = _a.width, height = _a.height;\r\n        this.offsetInOA = [left, top];\r\n        this.scale = 1;\r\n        this.angle = 0;\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.imgWidth = width;\r\n        this.imgHeight = height;\r\n        this.render();\r\n    };\r\n    default_1.prototype.move = function (dx, dy) {\r\n        var _a = __read(this.offsetInOA, 2), x = _a[0], y = _a[1];\r\n        this.moveTo(x + dx, y + dy);\r\n        return this.offsetInOA;\r\n    };\r\n    default_1.prototype.moveTo = function (x, y) {\r\n        this.offsetInOA = [x, y];\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.render();\r\n    };\r\n    default_1.prototype.changeOrgToImageCenter = function () {\r\n        var newOrgInOB = [this.offsetInOB[0] + this.imgWidth / 2, this.offsetInOB[1] + this.imgHeight / 2];\r\n        var orgInOA = this.switchToOA(newOrgInOB);\r\n        this.changeOrg(orgInOA);\r\n    };\r\n    default_1.prototype.rotate = function (deltaAngle, org) {\r\n        this.rotateTo(this.angle + deltaAngle, org);\r\n        return this.angle;\r\n    };\r\n    default_1.prototype.rotateTo = function (angle, org) {\r\n        if (void 0 === org) {\r\n            this.changeOrgToImageCenter();\r\n        }\r\n        else {\r\n            this.org = org;\r\n        }\r\n        this.angle = angle;\r\n        this.offsetInOA = this.switchToOA(this.offsetInOB);\r\n        this.render();\r\n    };\r\n    default_1.prototype.zoom = function (deltaScale, org) {\r\n        this.zoomTo(this.scale * deltaScale, org);\r\n        return this.scale;\r\n    };\r\n    default_1.prototype.zoomTo = function (scale, org) {\r\n        if (void 0 === org) {\r\n            this.changeOrgToImageCenter();\r\n        }\r\n        else {\r\n            this.org = org;\r\n        }\r\n        this.scale = scale;\r\n        this.offsetInOA = this.switchToOA(this.offsetInOB);\r\n        this.render();\r\n    };\r\n    default_1.prototype.switchToOB = function (_a) {\r\n        var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n        var _c = this, rad = _c.rad, scale = _c.scale, org = _c.org;\r\n        var dx = x - org[0];\r\n        var dy = y - org[1];\r\n        return [\r\n            (Math.cos(rad) * dx + Math.sin(rad) * dy) / scale,\r\n            (-Math.sin(rad) * dx + Math.cos(rad) * dy) / scale,\r\n        ];\r\n    };\r\n    default_1.prototype.switchToOA = function (_a) {\r\n        var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n        var _c = this, rad = _c.rad, scale = _c.scale, org = _c.org;\r\n        return [\r\n            (Math.cos(rad) * x - Math.sin(rad) * y) * scale + org[0],\r\n            (Math.sin(rad) * x + Math.cos(rad) * y) * scale + org[1],\r\n        ];\r\n    };\r\n    default_1.prototype.drawChessboard = function (context) {\r\n        var count = [24, Math.ceil((24 * this.canvasHeight) / this.canvasWidth)];\r\n        var size = this.canvasWidth / count[0];\r\n        context.save();\r\n        var color = '#ddd';\r\n        var rowStartColor = color;\r\n        for (var i = 0; i <= count[0]; i++) {\r\n            for (var j = 0; j < count[1]; j++) {\r\n                context.fillStyle = color;\r\n                var x = 0 + size * i;\r\n                var y = 0 + size * j;\r\n                context.fillRect(x, y, size, size);\r\n                color = '#ddd' === color ? '#fff' : '#ddd';\r\n            }\r\n            rowStartColor = '#ddd' === color ? '#fff' : '#ddd';\r\n            color = rowStartColor;\r\n        }\r\n        context.stroke();\r\n        context.restore();\r\n    };\r\n    default_1.prototype.getCenterRectOffsetTopLeft = function (width, height, canvasWidth, canvasHeight) {\r\n        var rate = [width / canvasWidth, height / canvasHeight];\r\n        if (rate[0] > rate[1]) {\r\n            var newHeight = Math.floor((canvasWidth * height) / width);\r\n            return {\r\n                width: canvasWidth,\r\n                height: newHeight,\r\n                top: (canvasHeight - newHeight) / 2,\r\n                left: 0,\r\n            };\r\n        }\r\n        else {\r\n            var newWidth = Math.floor((canvasHeight * width) / height);\r\n            return {\r\n                width: newWidth,\r\n                height: canvasHeight,\r\n                top: 0,\r\n                left: (canvasWidth - newWidth) / 2,\r\n            };\r\n        }\r\n    };\r\n    return default_1;\r\n}(AnyEvent));\n\nexport default default_1;\n//# sourceMappingURL=index.es.js.map\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","<template>\r\n    <label class=\"button-load-file\">\r\n        <input type=\"file\" accept=\"image/*\" multiple @change=\"onChange\" />\r\n        <slot>Upload</slot>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\n// 114 72\r\nimport loadImage from './loadImage';\r\nexport default {\r\n    name: 'ButtonLoadFile',\r\n\r\n    props: {\r\n        cropSize: {\r\n            type: Array,\r\n            default: () => [426, 269]\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        // 目标裁剪比例\r\n        cropRate() {\r\n            return this.cropSize[0] / this.cropSize[1];\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return { url: '' };\r\n    },\r\n\r\n    methods: {\r\n        readFile(file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = async (e) => {\r\n                    const img = await loadImage(e.target.result);\r\n                    const { width, height } = img;\r\n                    const crop = this.crop(img);\r\n                    resolve({ source: {fileName:file.name, url: e.target.result, img, width, height }, crop });\r\n                };\r\n\r\n                reader.onerror = reject;\r\n            });\r\n        },\r\n\r\n        async onChange(e) {\r\n            const { target } = e;\r\n            const { files } = target;\r\n            const array = Array.from(files);\r\n            if (0 < array.length) {\r\n                const data = await Promise.all(array.map(async (file) => this.readFile(file)));\r\n                this.$emit('loaded', data);\r\n            } else {\r\n                this.$emit('reset');\r\n            }\r\n        },\r\n\r\n        crop(img) {\r\n            const el = document.createElement('canvas');\r\n            const context = el.getContext('2d');\r\n            const { width, height } = img;\r\n\r\n            const rate = width / height;\r\n            // 从元素选取的起点和宽高\r\n            let sourceWidth = width;\r\n            let sourceHeight = height;\r\n            let sourceY = 0;\r\n            let sourceX = 0;\r\n            let cropAxis = 'x';\r\n            // 以宽度为基准, 裁剪高度\r\n            if (this.cropRate > rate) {\r\n                cropAxis = 'y';\r\n                sourceHeight = sourceWidth / this.cropRate;\r\n                sourceY = (height - sourceHeight) / 2;\r\n            }\r\n            // 以高度为基准, 裁剪宽度\r\n            else {\r\n                sourceWidth = sourceHeight * this.cropRate;\r\n                sourceX = (width - sourceWidth) / 2;\r\n            }\r\n            // console.clear();\r\n            // console.log({ sourceX, sourceY, sourceWidth, sourceHeight }, width, height);\r\n            el.width = this.cropSize[0];\r\n            el.height = this.cropSize[1];\r\n            const args = [img, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, this.cropSize[0], this.cropSize[1]];\r\n            context.drawImage(...args);\r\n            const url = el.toDataURL();\r\n            return {\r\n                url,\r\n                x: sourceX,\r\n                y: sourceY,\r\n                width: sourceWidth,\r\n                height: sourceHeight,\r\n                cropAxis,\r\n                cropRate: this.cropRate,\r\n                args\r\n            };\r\n            // console.log(dataURL);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\n.button-load-file {\r\n    padding: 16px 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    background: rgb(15, 147, 208);\r\n    color: #fff;\r\n    display: inline-block;\r\n    &:hover {\r\n        cursor: pointer;\r\n    }\r\n    > input[type='file'] {\r\n        display: none;\r\n    }\r\n}\r\n</style>","const cache = {};\r\nexport default function(url) {\r\n    return new Promise((resolve, reject) => {\r\n        if (cache[url]) {\r\n            resolve(cache[url]);\r\n            return;\r\n        }\r\n\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            cache[url] = img;\r\n            resolve(img);\r\n        };\r\n        img.onerror = reject;\r\n        img.src = url;\r\n    });\r\n}","import { render } from \"./ButtonLoadFile.vue?vue&type=template&id=7656cb8c\"\nimport script from \"./ButtonLoadFile.vue?vue&type=script&lang=js\"\nexport * from \"./ButtonLoadFile.vue?vue&type=script&lang=js\"\n\nimport \"./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}