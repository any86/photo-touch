{"version":3,"sources":["webpack:///./src/views/PhotoTouch.vue?c1b5","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///src/views/PhotoTouch.vue","webpack:///./src/views/PhotoTouch.vue?6815","webpack:///./src/views/PhotoTouch.vue","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/ButtonLoadFile.vue?a552","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/core-js/modules/es.global-this.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///../../../node_modules/tslib/tslib.es6.js","webpack:///../../../node_modules/@any-touch/core/node_modules/any-event/dist/index.es.js","webpack:///../../../node_modules/@any-touch/shared/dist/index.es.js","webpack:///../../../node_modules/@any-touch/core/dist/index.es.js","webpack:///../../../node_modules/@any-touch/recognizer/dist/index.es.js","webpack:///../../../node_modules/@any-touch/vector/dist/index.es.js","webpack:///../../../node_modules/@any-touch/compute/dist/index.es.js","webpack:///../../../node_modules/@any-touch/tap/dist/index.es.js","webpack:///../../../node_modules/@any-touch/pan/dist/index.es.js","webpack:///../../../node_modules/@any-touch/swipe/dist/index.es.js","webpack:///../../../node_modules/@any-touch/press/dist/index.es.js","webpack:///../../../node_modules/@any-touch/pinch/dist/index.es.js","webpack:///../../../node_modules/@any-touch/rotate/dist/index.es.js","webpack:///../../../node_modules/any-touch/dist/index.es.js","webpack:///../../../node_modules/any-event/dist/index.es.js","webpack:///../../load-image/dist/index.es.js","webpack:///../src/index.ts","webpack:///../../photo/dist/index.es.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./src/views/PhotoTouch.vue?fdfe","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./src/views/ButtonLoadFile.vue?8908","webpack:///./src/views/loadImage.js","webpack:///src/views/ButtonLoadFile.vue","webpack:///./src/views/ButtonLoadFile.vue?5ef1","webpack:///./src/views/ButtonLoadFile.vue","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticStyle","_v","_e","img","on","$event","photoTouch","zoom","rotate","togglePreview","class","isShowLine","onImageLoaded","toDataURL","attrs","dataURL","domProps","offset","moveTo","Number","target","value","_s","org","changeOrg","scale","zoomTo","angle","rotateTo","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","component","$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","proto","forced","reduce","callbackfn","arguments","length","undefined","classof","regexpExec","module","exports","R","S","exec","result","call","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","String","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","regexp","indexOf","res","done","rx","functionalReplace","fullUnicode","unicode","lastIndex","results","push","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","globalThis","_typeof","obj","constructor","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","create","__assign","assign","t","s","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","then","__generator","body","y","g","_","label","sent","trys","ops","verb","throw","return","v","op","pop","__values","o","__read","r","ar","default_1","listenersMap","el","_this","eventName","listener","_a","e_1","_b","eventNames","eventNames_1","eventNames_1_1","name","e_1_1","off","listeners","findIndex","fn","splice","emit","payload","beforeHook","e_2","listeners_1","listeners_1_1","e_2_1","destroy","ObjectToString","toString","INPUT_CANCEL","INPUT_END","TOUCH_END","TOUCH_CANCEL","SUPPORT_TOUCH","window","wx","STATUS_START","STATUS_MOVE","STATUS_END","STATUS_RECOGNIZED","STATUS_FAILED","STATUS_CANCELLED","round2","round","default_1$1","_super","load","event","targets","points","touches","clientX","clientY","contains","changedPoints","changedTouches","map","inputType","type","replace","nativeEvent","default_1$2","isPressed","button","MOUSE","prevPoints","default_1$3","Input","adapter","id","transform","prevInput","activeInput","baseInputWithoutId","MAX_SAFE_INTEGER","pureInput","inputBase","pointLength","isStart","isEnd","timestamp","performance","now","getCenter","x","currentTarget","getOffset","rect","getBoundingClientRect","top","startInput","startMultiInput","countPoint","point","dispatchDomEvent","eventInit","data","getOwnPropertySymbols","propertyIsEnumerable","document","createEvent","initEvent","bubbles","cancelable","Event","every","dispatchEvent","canPreventDefault","options","isPreventDefault","input","preventDefaultExclude","tagName","test","TOUCH_EVENT_NAMES","TOUCH","use","instanceOrClass","Recognizer","recognizerMap","instance","recognizers","removeUse","recognizerName","entries","_d","emit2","at","currentTarget_1","domEvents","_type","DEFAULT_OPTIONS","AnyTouch","cacheComputedFunctionGroup","style","webkitTapHighlightColor","supportsPassive_1","opts","defineProperty","get","addEventListener","callback","device","removeEventListener","catchEvent","bind","passive","preventDefault","AT_TOUCH_WITH_STATUS","cacheComputedGroup","_loop_1","recognizer","disabled","computedGroup","computeFunctionMap","this_1","recognize","ev","baseType","freeze","beforeEachHook","beforeEach","hook","set","version","AnyEvent","resetStatus","status","recognizeForPressMoveLike","isVaild","activeStatus","_f","_g","STATE_MAP","0","computed","isRecognized","includes","isValidPointLength","compute","Cs","Cs_1","Cs_1_1","C","_id","key","getVLength","sqrt","radianToAngle","radian","PI","getAngle","v1","v2","mr","acos","getDirection","abs","ComputeDeltaXY","deltaX","deltaY","deltaXYAngle","deltaXY","pow","computeDistance","displacementX","displacementY","distanceX","distanceY","distance","overallDirection","computeMaxLength","maxPointLength","ComputeVAndDir","direction","_lastValidInput","velocityX","velocityY","speedX","speedY","deltaTime","computeVector","ComputeVectorForMutli","startV","prevV","activeV","tapTimes","waitNextTapTime","maxDistance","maxDistanceFromPrevTap","maxPressTime","tapCount","_isValidDistanceFromPrevTap","center","prevTapPoint","distanceFromPreviousTap","_isValidInterval","prevTapTime","interval","ComputeMaxLength","ComputeDistance","cancelCountDownToFail","reset","countDownToFail","_countDownToFailTimer","setTimeout","clearTimeout","threshold","velocity","minPressTime","resetStatusForPressMoveLike","cancel","_timeoutId","deltaScale","deltaAngle","Tap","Pan","Swipe","Press","Pinch","Rotate","STATUS_POSSIBLE","beforeEmit","cache","loadImage","url","image","canvas","createElement","width","height","context","getContext","fillStyle","fillRect","img_1","Image","setAttribute","onload","onerror","src","moveRate","offsetWidth","newOrg","move","canvasWidth","canvasHeight","overlayImages","backgroundImages","imgWidth","imgHeight","offsetInOA","offsetInOB","_timeout","enumerable","configurable","rad","backgroundImage","overlayImage","clearRect","drawChessboard","drawImage","save","translate","restore","switchToOB","changeOverlay","overlays","_i","overlays_1","overlays_1_1","overlay","e_3_1","e_3","changeBackground","backgrounds","backgrounds_1","backgrounds_1_1","background","e_4_1","e_4","changeImg","getCenterRectOffsetTopLeft","dx","dy","changeOrgToImageCenter","newOrgInOB","orgInOA","switchToOA","cos","sin","count","ceil","size","color","stroke","rate","newHeight","newWidth","regexpFlags","stickyHelpers","nativeExec","RegExp","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","re","sticky","flags","source","charsAdded","strCopy","multiline","fails","RE","onChange","_t","toAbsoluteIndex","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","start","deleteCount","insertCount","actualDeleteCount","A","k","to","len","actualStart","argumentsLength","$every","METHOD_NAME","argument","method","stat","isExtensible","preventExtensions","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","$includes","aFunction","IndexedObject","createMethod","IS_RIGHT","that","memo","self","right","redefine","wellKnownSymbol","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","a","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","split","KEY","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","string","arg","$map","FREEZING","isObject","onFreeze","nativeFreeze","FAILS_ON_PRIMITIVES","hiddenKeys","has","uid","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","meta","REQUIRED"],"mappings":"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","file":"js/PhotoTouch.255b8aa0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"page-photo-touch\"},[_c('section',{staticClass:\"d-flex pos-r\"},[_c('canvas',{ref:\"canvas\",staticStyle:{\"width\":\"100%\"}}),(_vm.loading)?_c('p',[_vm._v(\"loading\")]):_vm._e(),(null !== _vm.img)?_c('div',{staticClass:\"pos-a\",staticStyle:{\"width\":\"50px\",\"right\":\"-8px\",\"top\":\"16px\"}},[_c('button',{staticClass:\"a-button a-button--dark ml-1\",staticStyle:{\"background\":\"rgba(0, 0, 0, 0.6)\",\"color\":\"#fff\"},on:{\"click\":function($event){return _vm.photoTouch.zoom(0.9)}}},[_c('i',{staticClass:\"ion-md-remove font-1\"})]),_c('button',{staticClass:\"a-button a-button--dark mt-1\",staticStyle:{\"background\":\"rgba(0, 0, 0, 0.6)\",\"color\":\"#fff\"},on:{\"click\":function($event){return _vm.photoTouch.zoom(1.1)}}},[_c('i',{staticClass:\"ion-md-add font-1\"})]),_c('button',{staticClass:\"a-button a-button--dark mt-1\",staticStyle:{\"background\":\"rgba(0, 0, 0, 0.6)\",\"color\":\"#fff\"},on:{\"click\":function($event){return _vm.photoTouch.rotate(90)}}},[_c('i',{staticClass:\"ion-md-refresh font-1\"})]),_c('button',{staticClass:\"a-button a-button--danger mt-1\",staticStyle:{\"background\":\"rgba(255, 0, 0, 0.6)\",\"color\":\"#fff\"},on:{\"click\":_vm.togglePreview}},[_c('i',{staticClass:\"font-1\",class:[(\"ion-md-eye\" + (_vm.isShowLine ? '' : '-off'))]})])]):_vm._e()]),_c('div',{staticClass:\"d-flex mt-1\"},[_c('ButtonLoadFile',{staticClass:\"a-button a-button--dark a-button--outline flex-1\",on:{\"loaded\":_vm.onImageLoaded}},[_c('i',{staticClass:\"ion-md-image font-1\",staticStyle:{\"vertical-align\":\"sub\"}}),_vm._v(\" Change\")]),_c('button',{staticClass:\"a-button a-button--primary flex-1\",on:{\"click\":_vm.toDataURL}},[_c('i',{staticClass:\"ion-md-checkmark font-1\",staticStyle:{\"vertical-align\":\"sub\"}}),_vm._v(\" Done \")])],1),_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.dataURL}}),_c('section',[_c('hr',{staticClass:\"mt-2\"}),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"400\"},domProps:{\"value\":_vm.offset[0]},on:{\"input\":function($event){_vm.photoTouch.moveTo(Number($event.target.value),_vm.offset[1])}}}),_vm._v(\" OffsetX: \"+_vm._s(_vm.offset[0])+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"400\"},domProps:{\"value\":_vm.offset[1]},on:{\"input\":function($event){_vm.photoTouch.moveTo(_vm.offset[0],Number($event.target.value))}}}),_vm._v(\" OffsetY: \"+_vm._s(_vm.offset[1])+\" \")]),_c('hr',{staticClass:\"mt-2\"}),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"2000\"},domProps:{\"value\":_vm.org[0]},on:{\"input\":function($event){_vm.photoTouch.changeOrg([_vm.org[0],Number($event.target.value)])}}}),_vm._v(\" OX:\"+_vm._s(_vm.org[0])+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"2000\"},domProps:{\"value\":_vm.org[1]},on:{\"input\":function($event){_vm.photoTouch.changeOrg([Number($event.target.value), _vm.org[1]])}}}),_vm._v(\" OY:\"+_vm._s(_vm.org[1])+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"min\":\"0.1\",\"max\":\"2\",\"step\":\"0.1\",\"type\":\"range\"},domProps:{\"value\":_vm.scale},on:{\"input\":function($event){_vm.photoTouch.zoomTo(Number($event.target.value))}}}),_vm._v(\" Scale: \"+_vm._s(_vm.scale)+\" \")]),_c('label',{staticClass:\"a-input\"},[_c('input',{attrs:{\"type\":\"range\",\"max\":\"360\"},domProps:{\"value\":_vm.angle},on:{\"input\":function($event){_vm.photoTouch.rotateTo(Number($event.target.value))}}}),_vm._v(\" A:\"+_vm._s(_vm.angle)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\r\n    <article class=\"page-photo-touch\">\r\n        <section class=\"d-flex pos-r\">\r\n            <canvas ref=\"canvas\" style=\"width:100%;\"></canvas>\r\n            <p v-if=\"loading\">loading</p>\r\n            <div v-if=\"null !== img\" class=\"pos-a\" style=\"width:50px; right:-8px;top:16px;\">\r\n                <button\r\n                    class=\"a-button a-button--dark ml-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.zoom(0.9)\"\r\n                >\r\n                    <i class=\"ion-md-remove font-1\"></i>\r\n                </button>\r\n                <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.zoom(1.1)\"\r\n                >\r\n                    <i class=\"ion-md-add font-1\"></i>\r\n                </button>\r\n\r\n                <!-- <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.rotate(-90)\"\r\n                >\r\n                    <i class=\"ion-md-refresh rotate-180 d-block font-1\"></i>\r\n                </button>-->\r\n                <button\r\n                    class=\"a-button a-button--dark mt-1\"\r\n                    style=\"background:rgba(0, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"photoTouch.rotate(90)\"\r\n                >\r\n                    <i class=\"ion-md-refresh font-1\"></i>\r\n                </button>\r\n\r\n                <button\r\n                    class=\"a-button a-button--danger mt-1\"\r\n                    style=\"background:rgba(255, 0, 0, 0.6); color:#fff;\"\r\n                    @click=\"togglePreview\"\r\n                >\r\n                    <i :class=\"[`ion-md-eye${isShowLine ? '' : '-off'}`]\" class=\"font-1\"></i>\r\n                </button>\r\n            </div>\r\n        </section>\r\n\r\n        <div class=\"d-flex mt-1\">\r\n            <ButtonLoadFile\r\n                class=\"a-button a-button--dark a-button--outline flex-1\"\r\n                @loaded=\"onImageLoaded\"\r\n            ><i class=\"ion-md-image font-1\" style=\"vertical-align: sub;\"/> Change</ButtonLoadFile>\r\n\r\n            <button class=\"a-button a-button--primary flex-1\" @click=\"toDataURL\">\r\n                <i class=\"ion-md-checkmark font-1\" style=\"vertical-align: sub;\"></i> Done\r\n            </button>\r\n        </div>\r\n        <img style=\"width:100%;\" :src=\"dataURL\" />\r\n        <section>\r\n            <hr class=\"mt-2\" />\r\n            <!-- Offset -->\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[0]\"\r\n                    @input=\"photoTouch.moveTo(Number($event.target.value),offset[1])\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetX: {{offset[0]}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"offset[1]\"\r\n                    @input=\"photoTouch.moveTo(offset[0],Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"400\"\r\n                />\r\n                OffsetY: {{offset[1]}}\r\n            </label>\r\n            <hr class=\"mt-2\" />\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[0]\"\r\n                    @input=\"photoTouch.changeOrg([org[0],Number($event.target.value)])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OX:{{org[0]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"org[1]\"\r\n                    @input=\"photoTouch.changeOrg([Number($event.target.value), org[1]])\"\r\n                    type=\"range\"\r\n                    max=\"2000\"\r\n                />\r\n                OY:{{org[1]}}\r\n            </label>\r\n\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"scale\"\r\n                    @input=\"photoTouch.zoomTo(Number($event.target.value))\"\r\n                    min=\"0.1\"\r\n                    max=\"2\"\r\n                    step=\"0.1\"\r\n                    type=\"range\"\r\n                />\r\n                Scale: {{scale}}\r\n            </label>\r\n            <label class=\"a-input\">\r\n                <input\r\n                    :value=\"angle\"\r\n                    @input=\"photoTouch.rotateTo(Number($event.target.value))\"\r\n                    type=\"range\"\r\n                    max=\"360\"\r\n                />\r\n                A:{{angle}}\r\n            </label>\r\n        </section>\r\n    </article>\r\n</template>\r\n<script>\r\nimport PhotoTouch from '../../../packages/photo-touch/dist/photo-touch.umd';\r\nimport ButtonLoadFile from './ButtonLoadFile';\r\nexport default {\r\n    name: 'DIY',\r\n\r\n    components: { ButtonLoadFile },\r\n\r\n    data() {\r\n        return {\r\n            dataURL: '',\r\n            loading: false,\r\n            img: null,\r\n            isShowLine: false,\r\n            photoTouch: null,\r\n            overlayImgs: [],\r\n            activeOverlay: {},\r\n            org: [1642 / 2, 2434 / 2],\r\n            angle: 0,\r\n            scale: 1,\r\n            offset: [0, 0],\r\n            width: 1642,\r\n            height: 2434,\r\n            background: '#fff',\r\n\r\n            lineOverlays: [\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_b44dc4e2-3e32-4b51-80de-675d8a273aed.png?v=1597476179',\r\n            ],\r\n\r\n            previewOverlays: [\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_0d08b826-a84d-4224-aca2-4f928c6fe6e5.png?v=1597476180',\r\n                'https://cdn.shopifycdn.net/s/files/1/0276/2922/4000/files/iPhone11_9fa84a77-f492-424d-be4c-6241e4aa6bd7.png?v=1597476180',\r\n            ],\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        isShowLine(isShowLine) {\r\n            const { img } = this;\r\n            this.loading = true;\r\n            if (isShowLine) {\r\n                this.photoTouch.changeOverlay(...this.lineOverlays);\r\n            } else {\r\n                this.photoTouch.changeBackground(this.background);\r\n                this.photoTouch.changeOverlay(...this.previewOverlays);\r\n            }\r\n            this.loading = false;\r\n        },\r\n    },\r\n\r\n    async mounted() {\r\n        this.photoTouch = new PhotoTouch(this.$refs.canvas, this.width, this.height);\r\n        this.photoTouch.on('transform', ({ offset, scale, angle, org }) => {\r\n            this.offset = offset;\r\n            this.scale = scale;\r\n            this.angle = angle;\r\n            this.org = org;\r\n        });\r\n\r\n        this.photoTouch.on(['panstart', 'pinchstart', 'rotatestart', 'tap'], () => {\r\n            this.isShowLine = true;\r\n        });\r\n\r\n        this.photoTouch.on(['panend', 'pinchend', 'rotateend'], () => {\r\n            this.isShowLine = false;\r\n        });\r\n    },\r\n\r\n    methods: {\r\n        toDataURL() {\r\n            this.isShowLine = false;\r\n            this.$nextTick(() => {\r\n                this.dataURL = this.photoTouch.canvas.toDataURL('image/jpeg',0.7);\r\n                console.log(this.img.src)\r\n            });\r\n        },\r\n        async togglePreview() {\r\n            this.isShowLine = !this.isShowLine;\r\n        },\r\n\r\n        async onImageLoaded(e) {\r\n            this.loading = true;\r\n            const { img } = e[0].source;\r\n            this.img = img;\r\n            this.photoTouch.changeBackground(this.background);\r\n            this.photoTouch.changeImg(img);\r\n            this.photoTouch.changeOverlay(...this.previewOverlays);\r\n            this.loading = false;\r\n        },\r\n\r\n        reset() {\r\n            this.photoTouch.reset();\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\narticle.page-photo-touch {\r\n    padding: 16px;\r\n  }\r\n\r\n@media (min-width: 640px) {\r\n  article.page-photo-touch {\r\n    max-width: 375px;\r\n    margin: 16px auto;\r\n    box-shadow: 0 0 8px 1px rgba(#000,0.1);\r\n  }\r\n}\r\n\r\n\r\ncanvas {\r\n    cursor: move;\r\n}\r\nlabel {\r\n    display: block;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoTouch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoTouch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotoTouch.vue?vue&type=template&id=a3cceefe&\"\nimport script from \"./PhotoTouch.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoTouch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://github.com/tc39/proposal-global\n$({ global: true }, {\n  globalThis: global\n});\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __values } from 'tslib';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n        this.listenersMap = {};\r\n    }\r\n    default_1.prototype.target = function (el) {\r\n        var _this = this;\r\n        return {\r\n            on: function (eventName, listener) {\r\n                _this.on(eventName, listener, { target: el });\r\n            }\r\n        };\r\n    };\r\n    default_1.prototype.on = function (eventName, listener, _a) {\r\n        var e_1, _b;\r\n        var target = (_a === void 0 ? {} : _a).target;\r\n        var eventNames = Array.isArray(eventName) ? eventName : [eventName];\r\n        try {\r\n            for (var eventNames_1 = __values(eventNames), eventNames_1_1 = eventNames_1.next(); !eventNames_1_1.done; eventNames_1_1 = eventNames_1.next()) {\r\n                var name = eventNames_1_1.value;\r\n                if (void 0 === this.listenersMap[name]) {\r\n                    this.listenersMap[name] = [];\r\n                }\r\n                if (void 0 !== target) {\r\n                    listener.target = target;\r\n                }\r\n                this.listenersMap[name].push(listener);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (eventNames_1_1 && !eventNames_1_1.done && (_b = eventNames_1.return)) _b.call(eventNames_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    default_1.prototype.off = function (eventName, listener) {\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners) {\r\n            if (void 0 === listener) {\r\n                delete this.listenersMap[eventName];\r\n            }\r\n            else {\r\n                var index = listeners.findIndex(function (fn) { return fn === listener; });\r\n                listeners.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.emit = function (eventName, payload, beforeHook) {\r\n        var e_2, _a;\r\n        if (beforeHook === void 0) { beforeHook = function () { return true; }; }\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners && 0 < listeners.length) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    var target = listener.target;\r\n                    if (beforeHook({ target: target })) {\r\n                        listener(payload);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.destroy = function () {\r\n        this.listenersMap = {};\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\n","var ObjectToString = Object.prototype.toString;\r\nfunction isRegExp(input) {\r\n    return '[object RegExp]' === ObjectToString.call(input);\r\n}\r\nfunction isFunction(input) {\r\n    return '[object Function]' === ObjectToString.call(input);\r\n}\n\nvar CLIENT_X = 'clientX';\r\nvar CLIENT_Y = 'clientY';\r\nvar COMPUTE_INTERVAL = 16;\r\nvar INPUT_START = 'start';\r\nvar INPUT_MOVE = 'move';\r\nvar INPUT_CANCEL = 'cancel';\r\nvar INPUT_END = 'end';\r\nvar DIRECTION_LEFT = 'left';\r\nvar DIRECTION_RIGHT = 'right';\r\nvar DIRECTION_UP = 'up';\r\nvar DIRECTION_DOWN = 'down';\r\nvar NONE = 'none';\r\nvar TOUCH = 'touch';\r\nvar MOUSE = 'mouse';\r\nvar TOUCH_START = TOUCH + INPUT_START;\r\nvar TOUCH_MOVE = TOUCH + INPUT_MOVE;\r\nvar TOUCH_END = TOUCH + INPUT_END;\r\nvar TOUCH_CANCEL = TOUCH + INPUT_CANCEL;\r\nvar MOUSE_UP = MOUSE + DIRECTION_UP;\r\nvar MOUSE_MOVE = MOUSE + INPUT_MOVE;\r\nvar MOUSE_DOWN = MOUSE + DIRECTION_DOWN;\r\nvar SUPPORT_TOUCH = window.wx || \"on\" + TOUCH_START in window;\r\nvar STATUS_POSSIBLE = 'p';\r\nvar STATUS_START = INPUT_START;\r\nvar STATUS_MOVE = INPUT_MOVE;\r\nvar STATUS_END = INPUT_END;\r\nvar STATUS_RECOGNIZED = 'r';\r\nvar STATUS_FAILED = 'f';\r\nvar STATUS_CANCELLED = INPUT_CANCEL;\n\nfunction round2(n) {\r\n    return Math.round(n * 100) / 100;\r\n}\n\nexport { CLIENT_X, CLIENT_Y, COMPUTE_INTERVAL, DIRECTION_DOWN, DIRECTION_LEFT, DIRECTION_RIGHT, DIRECTION_UP, INPUT_CANCEL, INPUT_END, INPUT_MOVE, INPUT_START, MOUSE, MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, NONE, STATUS_CANCELLED, STATUS_END, STATUS_FAILED, STATUS_MOVE, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_START, SUPPORT_TOUCH, TOUCH, TOUCH_CANCEL, TOUCH_END, TOUCH_MOVE, TOUCH_START, isFunction, isRegExp, round2 };\n","import { __extends, __assign, __rest, __values, __read } from 'tslib';\nimport AnyEvent from 'any-event';\nimport { MOUSE_DOWN, MOUSE_MOVE, MOUSE_UP, INPUT_START, INPUT_MOVE, INPUT_END, INPUT_CANCEL, SUPPORT_TOUCH, CLIENT_X, CLIENT_Y, isRegExp, isFunction, TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL, TOUCH } from '@any-touch/shared';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n    }\r\n    return default_1;\r\n}());\n\nvar default_1$1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    default_1.prototype.load = function (event, el) {\r\n        var targets = [];\r\n        var points = [];\r\n        Array.from(event.touches).forEach(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            if (el === null || el === void 0 ? void 0 : el.contains(target)) {\r\n                targets.push(target);\r\n                points.push({ clientX: clientX, clientY: clientY, target: target });\r\n            }\r\n        });\r\n        var changedPoints = Array.from(event.changedTouches).map(function (_a) {\r\n            var clientX = _a.clientX, clientY = _a.clientY, target = _a.target;\r\n            return ({ clientX: clientX, clientY: clientY, target: target });\r\n        });\r\n        return {\r\n            inputType: event.type.replace('touch', ''),\r\n            changedPoints: changedPoints,\r\n            points: points,\r\n            nativeEvent: event,\r\n            target: event.target,\r\n            targets: targets\r\n        };\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nvar default_1$2 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1() {\r\n        var _this = _super.call(this) || this;\r\n        _this.target = null;\r\n        _this.isPressed = false;\r\n        return _this;\r\n    }\r\n    default_1.prototype.load = function (event) {\r\n        var clientX = event.clientX, clientY = event.clientY, type = event.type, button = event.button, target = event.target;\r\n        var points = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        var inputType;\r\n        if (MOUSE_DOWN === type && 0 === button) {\r\n            this.target = target;\r\n            this.isPressed = true;\r\n            inputType = INPUT_START;\r\n        }\r\n        else if (this.isPressed) {\r\n            if (MOUSE_MOVE === type) {\r\n                inputType = INPUT_MOVE;\r\n            }\r\n            else if (MOUSE_UP === type) {\r\n                points = [];\r\n                inputType = INPUT_END;\r\n                this.isPressed = false;\r\n            }\r\n        }\r\n        var changedPoints = this.prevPoints || [{ clientX: clientX, clientY: clientY, target: target }];\r\n        this.prevPoints = [{ clientX: clientX, clientY: clientY, target: target }];\r\n        if (void 0 !== inputType) {\r\n            return {\r\n                inputType: inputType,\r\n                changedPoints: changedPoints,\r\n                points: points,\r\n                target: this.target,\r\n                targets: [this.target],\r\n                nativeEvent: event\r\n            };\r\n        }\r\n    };\r\n    return default_1;\r\n}(default_1));\n\nvar default_1$3 = (function () {\r\n    function default_1(el) {\r\n        var Input = SUPPORT_TOUCH ? default_1$1 : default_1$2;\r\n        this.adapter = new Input();\r\n        this.id = 0;\r\n        this.el = el;\r\n    }\r\n    default_1.prototype.transform = function (event) {\r\n        this.prevInput = this.activeInput;\r\n        var baseInputWithoutId = this.adapter.load(event, this.el);\r\n        if (void 0 !== baseInputWithoutId) {\r\n            var id = Number.MAX_SAFE_INTEGER > this.id ? ++this.id : 1;\r\n            var baseInput = __assign(__assign({}, baseInputWithoutId), { id: id });\r\n            var pureInput = extendInput(baseInput);\r\n            this.activeInput = pureInput;\r\n            var isStart = pureInput.isStart, pointLength = pureInput.pointLength;\r\n            if (isStart) {\r\n                this.startInput = pureInput;\r\n                this.prevInput = void 0;\r\n                if (1 < pointLength) {\r\n                    this.startMultiInput = pureInput;\r\n                }\r\n                else {\r\n                    this.startMultiInput = void 0;\r\n                }\r\n            }\r\n            return __assign(__assign({}, pureInput), { prevInput: this.prevInput, startMultiInput: this.startMultiInput, startInput: this.startInput });\r\n        }\r\n    };\r\n    return default_1;\r\n}());\r\nfunction getCenter(points) {\r\n    var length = points.length;\r\n    if (0 < length) {\r\n        if (1 === length) {\r\n            var _a = points[0], clientX = _a.clientX, clientY = _a.clientY;\r\n            return { x: Math.round(clientX), y: Math.round(clientY) };\r\n        }\r\n        var countPoint = points.reduce(function (countPoint, point) {\r\n            countPoint.x += point[CLIENT_X];\r\n            countPoint.y += point[CLIENT_Y];\r\n            return countPoint;\r\n        }, { x: 0, y: 0 });\r\n        return { x: Math.round(countPoint.x / length), y: Math.round(countPoint.y / length) };\r\n    }\r\n}\r\nfunction extendInput(inputBase) {\r\n    var inputType = inputBase.inputType, points = inputBase.points, changedPoints = inputBase.changedPoints, nativeEvent = inputBase.nativeEvent;\r\n    var pointLength = points.length;\r\n    var isStart = INPUT_START === inputType;\r\n    var isEnd = (INPUT_END === inputType && 0 === pointLength) || INPUT_CANCEL === inputType;\r\n    var timestamp = performance.now();\r\n    var _a = getCenter(points) || getCenter(changedPoints), x = _a.x, y = _a.y;\r\n    var currentTarget = nativeEvent.currentTarget;\r\n    return __assign(__assign({}, inputBase), { x: x, y: y,\r\n        timestamp: timestamp,\r\n        isStart: isStart, isEnd: isEnd,\r\n        pointLength: pointLength,\r\n        currentTarget: currentTarget,\r\n        getOffset: function (el) {\r\n            if (el === void 0) { el = currentTarget; }\r\n            var rect = el.getBoundingClientRect();\r\n            return { x: x - Math.round(rect.left), y: y - Math.round(rect.top) };\r\n        } });\r\n}\n\nfunction dispatchDomEvent (el, payload, eventInit) {\r\n    var target = payload.target, currentTarget = payload.currentTarget, type = payload.type, data = __rest(payload, [\"target\", \"currentTarget\", \"type\"]);\r\n    var event;\r\n    if (document.createEvent) {\r\n        event = document.createEvent('HTMLEvents');\r\n        event.initEvent(type, eventInit === null || eventInit === void 0 ? void 0 : eventInit.bubbles, eventInit === null || eventInit === void 0 ? void 0 : eventInit.cancelable);\r\n    }\r\n    else {\r\n        event = new Event(type, eventInit);\r\n    }\r\n    Object.assign(event, data, {\r\n        match: function () {\r\n            return payload.targets.every(function (target) {\r\n                return event.currentTarget.contains(target);\r\n            });\r\n        }\r\n    });\r\n    return el.dispatchEvent(event);\r\n}\n\nfunction canPreventDefault (event, options) {\r\n    if (!options.isPreventDefault)\r\n        return false;\r\n    var isPreventDefault = true;\r\n    if (null !== event.target) {\r\n        var preventDefaultExclude = options.preventDefaultExclude;\r\n        if (isRegExp(preventDefaultExclude)) {\r\n            if ('tagName' in event.target) {\r\n                var tagName = event.target.tagName;\r\n                isPreventDefault = !preventDefaultExclude.test(tagName);\r\n            }\r\n        }\r\n        else if (isFunction(preventDefaultExclude)) {\r\n            isPreventDefault = !preventDefaultExclude(event);\r\n        }\r\n    }\r\n    return isPreventDefault;\r\n}\n\nvar TOUCH_EVENT_NAMES = [TOUCH_START, TOUCH_MOVE, TOUCH_END, TOUCH_CANCEL];\r\nfunction bindElement (el, callback, options, device) {\r\n    if (SUPPORT_TOUCH || 'Touch' === device) {\r\n        TOUCH_EVENT_NAMES.forEach(function (eventName) {\r\n            el.addEventListener(eventName, callback, options);\r\n        });\r\n        return function () {\r\n            TOUCH_EVENT_NAMES.forEach(function (eventName) {\r\n                el.removeEventListener(eventName, callback);\r\n            });\r\n        };\r\n    }\r\n    else {\r\n        el.addEventListener(MOUSE_DOWN, callback, options);\r\n        window.addEventListener(MOUSE_MOVE, callback, options);\r\n        window.addEventListener(MOUSE_UP, callback, options);\r\n        return function () {\r\n            el.removeEventListener(MOUSE_DOWN, callback);\r\n            window.removeEventListener(MOUSE_MOVE, callback);\r\n            window.removeEventListener(MOUSE_UP, callback);\r\n        };\r\n    }\r\n}\n\nfunction use(instanceOrClass, Recognizer, options) {\r\n    var name = options === null || options === void 0 ? void 0 : options.name;\r\n    if (void 0 !== name && void 0 !== instanceOrClass.recognizerMap[name])\r\n        return;\r\n    var instance = new Recognizer(options);\r\n    instanceOrClass.recognizerMap[instance.name] = instance;\r\n    instance.recognizerMap = instanceOrClass.recognizerMap;\r\n    instanceOrClass.recognizers.push(instanceOrClass.recognizerMap[instance.name]);\r\n}\r\nfunction removeUse(instanceOrClass, recognizerName) {\r\n    var e_1, _a;\r\n    if (void 0 === recognizerName) {\r\n        instanceOrClass.recognizers = [];\r\n        instanceOrClass.recognizerMap = {};\r\n    }\r\n    else {\r\n        try {\r\n            for (var _b = __values(instanceOrClass.recognizers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var _d = __read(_c.value, 2), index = _d[0], recognizer = _d[1];\r\n                if (recognizerName === recognizer.options.name) {\r\n                    instanceOrClass.recognizers.splice(index, 1);\r\n                    delete instanceOrClass.recognizerMap[recognizerName];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    }\r\n}\n\nvar AT_AFTER = 'at:after';\r\nfunction emit2(at, payload) {\r\n    var type = payload.type, target = payload.target, targets = payload.targets;\r\n    at.emit(type, payload, function (data) {\r\n        if (void 0 !== (data === null || data === void 0 ? void 0 : data.target)) {\r\n            var currentTarget_1 = data.target;\r\n            return targets.every(function (target) { return currentTarget_1.contains(target); });\r\n        }\r\n        return true;\r\n    });\r\n    at.emit(AT_AFTER, payload);\r\n    if (!!at.options.domEvents\r\n        && void 0 !== at.el\r\n        && null !== target) {\r\n        dispatchDomEvent(target, payload, at.options.domEvents);\r\n        dispatchDomEvent(target, __assign(__assign({}, payload), { _type: payload.type, type: AT_AFTER }), at.options.domEvents);\r\n    }\r\n}\n\nvar DEFAULT_OPTIONS = {\r\n    domEvents: { bubbles: true, cancelable: true },\r\n    isPreventDefault: true,\r\n    preventDefaultExclude: /^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/\r\n};\r\nvar AnyTouch = (function (_super) {\r\n    __extends(AnyTouch, _super);\r\n    function AnyTouch(el, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.recognizerMap = {};\r\n        _this.recognizers = [];\r\n        _this.cacheComputedFunctionGroup = Object.create(null);\r\n        _this.el = el;\r\n        _this.input = new default_1$3(el);\r\n        _this.options = __assign(__assign({}, DEFAULT_OPTIONS), options);\r\n        _this.recognizerMap = AnyTouch.recognizerMap;\r\n        _this.recognizers = AnyTouch.recognizers;\r\n        if (void 0 !== el) {\r\n            el.style.webkitTapHighlightColor = 'rgba(0,0,0,0)';\r\n            var supportsPassive_1 = false;\r\n            try {\r\n                var opts = {};\r\n                Object.defineProperty(opts, 'passive', ({\r\n                    get: function () {\r\n                        supportsPassive_1 = true;\r\n                    }\r\n                }));\r\n                window.addEventListener('_', function () { return void 0; }, opts);\r\n            }\r\n            catch (_a) { }\r\n            _this.on('unbind', bindElement(el, _this.catchEvent.bind(_this), !_this.options.isPreventDefault && supportsPassive_1 ? { passive: true } : false, _this.options.device));\r\n        }\r\n        return _this;\r\n    }\r\n    AnyTouch.prototype.use = function (Recognizer, options) {\r\n        use(this, Recognizer, options);\r\n    };\r\n    AnyTouch.prototype.removeUse = function (name) {\r\n        removeUse(this, name);\r\n    };\r\n    AnyTouch.prototype.catchEvent = function (event) {\r\n        var e_1, _a;\r\n        var _this = this;\r\n        if (canPreventDefault(event, this.options)) {\r\n            event.preventDefault();\r\n        }\r\n        var input = this.input.transform(event);\r\n        if (void 0 !== input) {\r\n            var AT_TOUCH = \"at:\" + TOUCH;\r\n            var AT_TOUCH_WITH_STATUS = AT_TOUCH + input.inputType;\r\n            this.emit(AT_TOUCH, input);\r\n            this.emit(AT_TOUCH_WITH_STATUS, input);\r\n            var domEvents = this.options.domEvents;\r\n            if (false !== domEvents) {\r\n                var target = event.target;\r\n                if (null !== target) {\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_TOUCH }), domEvents);\r\n                    dispatchDomEvent(target, __assign(__assign({}, input), { type: AT_TOUCH_WITH_STATUS }), domEvents);\r\n                }\r\n            }\r\n            var cacheComputedGroup = Object.create(null);\r\n            var _loop_1 = function (recognizer) {\r\n                if (recognizer.disabled)\r\n                    return \"continue\";\r\n                recognizer.computedGroup = cacheComputedGroup;\r\n                recognizer.computeFunctionMap = this_1.cacheComputedFunctionGroup;\r\n                recognizer.recognize(input, function (type, ev) {\r\n                    var payload = __assign(__assign(__assign({}, input), ev), { type: type, baseType: recognizer.name });\r\n                    Object.freeze(payload);\r\n                    if (void 0 === _this.beforeEachHook) {\r\n                        emit2(_this, payload);\r\n                    }\r\n                    else {\r\n                        _this.beforeEachHook(recognizer, function () {\r\n                            emit2(_this, payload);\r\n                        });\r\n                    }\r\n                });\r\n                cacheComputedGroup = recognizer.computedGroup;\r\n                this_1.cacheComputedFunctionGroup = recognizer.computeFunctionMap;\r\n            };\r\n            var this_1 = this;\r\n            try {\r\n                for (var _b = __values(this.recognizers), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var recognizer = _c.value;\r\n                    _loop_1(recognizer);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n    };\r\n    AnyTouch.prototype.beforeEach = function (hook) {\r\n        this.beforeEachHook = hook;\r\n    };\r\n    AnyTouch.prototype.get = function (name) {\r\n        return this.recognizerMap[name];\r\n    };\r\n    AnyTouch.prototype.set = function (options) {\r\n        this.options = __assign(__assign({}, this.options), options);\r\n    };\r\n    AnyTouch.prototype.destroy = function () {\r\n        this.emit('unbind');\r\n        this.listenersMap = {};\r\n    };\r\n    AnyTouch.version = '0.7.7';\r\n    AnyTouch.recognizers = [];\r\n    AnyTouch.recognizerMap = {};\r\n    AnyTouch.use = function (Recognizer, options) {\r\n        use(AnyTouch, Recognizer, options);\r\n    };\r\n    AnyTouch.removeUse = function (recognizerName) {\r\n        removeUse(AnyTouch, recognizerName);\r\n    };\r\n    return AnyTouch;\r\n}(AnyEvent));\n\nexport default AnyTouch;\n","import { __assign, __values } from 'tslib';\nimport { STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED, STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, INPUT_MOVE, INPUT_END, INPUT_CANCEL, INPUT_START } from '@any-touch/shared';\n\nfunction resetStatus (recognizer) {\r\n    if (-1 !== [STATUS_END, STATUS_CANCELLED, STATUS_RECOGNIZED, STATUS_FAILED].indexOf(recognizer.status)) {\r\n        recognizer.status = STATUS_POSSIBLE;\r\n    }\r\n}\n\nfunction flow(isVaild, activeStatus, inputType) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var STATE_MAP = {\r\n        1: (_a = {},\r\n            _a[STATUS_POSSIBLE] = (_b = {},\r\n                _b[INPUT_MOVE] = STATUS_START,\r\n                _b),\r\n            _a[STATUS_START] = (_c = {},\r\n                _c[INPUT_MOVE] = STATUS_MOVE,\r\n                _c[INPUT_END] = STATUS_END,\r\n                _c[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _c),\r\n            _a[STATUS_MOVE] = (_d = {},\r\n                _d[INPUT_MOVE] = STATUS_MOVE,\r\n                _d[INPUT_END] = STATUS_END,\r\n                _d[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _d),\r\n            _a),\r\n        0: (_e = {},\r\n            _e[STATUS_START] = (_f = {},\r\n                _f[INPUT_MOVE] = STATUS_CANCELLED,\r\n                _f[INPUT_END] = STATUS_END,\r\n                _f[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _f),\r\n            _e[STATUS_MOVE] = (_g = {},\r\n                _g[INPUT_START] = STATUS_FAILED,\r\n                _g[INPUT_MOVE] = STATUS_CANCELLED,\r\n                _g[INPUT_END] = STATUS_END,\r\n                _g[INPUT_CANCEL] = STATUS_CANCELLED,\r\n                _g),\r\n            _e)\r\n    };\r\n    if (void 0 !== STATE_MAP[Number(isVaild)][activeStatus]) {\r\n        return STATE_MAP[Number(isVaild)][activeStatus][inputType] || activeStatus;\r\n    }\r\n    else {\r\n        return activeStatus;\r\n    }\r\n}\r\nfunction recognizeForPressMoveLike (recognizer, input, emit) {\r\n    var isVaild = recognizer.test(input);\r\n    resetStatus(recognizer);\r\n    var inputType = input.inputType;\r\n    recognizer.status = flow(isVaild, recognizer.status, inputType);\r\n    var computed = recognizer.computed;\r\n    recognizer.isRecognized = [STATUS_START, STATUS_MOVE].includes(recognizer.status);\r\n    var name = recognizer.name, status = recognizer.status, isRecognized = recognizer.isRecognized;\r\n    if (isRecognized) {\r\n        emit(name, computed);\r\n    }\r\n    if (isRecognized || [STATUS_END, STATUS_CANCELLED].includes(recognizer.status)) {\r\n        emit(name + status, computed);\r\n    }\r\n    return isVaild;\r\n}\n\nvar default_1 = (function () {\r\n    function default_1(options) {\r\n        this.disabled = false;\r\n        this.status = STATUS_POSSIBLE;\r\n        this.isRecognized = false;\r\n        this.recognizerMap = {};\r\n        this.computedGroup = {};\r\n        this.computed = {};\r\n        this.computeFunctionMap = {};\r\n        this.options = options;\r\n        this.name = this.options.name;\r\n    }\r\n    default_1.prototype.set = function (options) {\r\n        if (void 0 !== options) {\r\n            this.options = __assign(__assign({}, this.options), options);\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.isValidPointLength = function (pointLength) {\r\n        return 0 === this.options.pointLength || this.options.pointLength === pointLength;\r\n    };\r\n    default_1.prototype.compute = function (Cs, input) {\r\n        var e_1, _a;\r\n        var computed = Object.create(null);\r\n        try {\r\n            for (var Cs_1 = __values(Cs), Cs_1_1 = Cs_1.next(); !Cs_1_1.done; Cs_1_1 = Cs_1.next()) {\r\n                var C = Cs_1_1.value;\r\n                var _id = C._id;\r\n                var _b = this, computedGroup = _b.computedGroup, computeFunctionMap = _b.computeFunctionMap;\r\n                if (void 0 === computeFunctionMap[_id]) {\r\n                    computeFunctionMap[_id] = C();\r\n                }\r\n                computedGroup[_id] = computedGroup[_id] || computeFunctionMap[_id](input);\r\n                for (var key in computedGroup[_id]) {\r\n                    computed[key] = computedGroup[_id][key];\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (Cs_1_1 && !Cs_1_1.done && (_a = Cs_1.return)) _a.call(Cs_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return computed;\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\nexport { recognizeForPressMoveLike, resetStatus as resetStatusForPressMoveLike };\n","import { NONE, DIRECTION_RIGHT, DIRECTION_LEFT, DIRECTION_DOWN, DIRECTION_UP } from '@any-touch/shared';\n\nvar getVLength = (function (v) {\r\n    return Math.sqrt(v.x * v.x + v.y * v.y);\r\n});\n\nvar getDotProduct = (function (v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n});\n\nvar getRadian = (function (v1, v2) {\r\n    var mr = getVLength(v1) * getVLength(v2);\r\n    if (mr === 0)\r\n        return 0;\r\n    var r = getDotProduct(v1, v2) / mr;\r\n    if (r > 1)\r\n        r = 1;\r\n    return Math.acos(r);\r\n});\n\nvar getCross = (function (v1, v2) {\r\n    return v1.x * v2.y - v2.x * v1.y;\r\n});\n\nvar radianToAngle = (function (radian) { return radian / Math.PI * 180; });\n\nvar getAngle = (function (v1, v2) {\r\n    var angle = getRadian(v1, v2);\r\n    if (getCross(v1, v2) > 0) {\r\n        angle *= -1;\r\n    }\r\n    return radianToAngle(angle);\r\n});\n\nvar getDirection = (function (x, y) {\r\n    if (x === y) {\r\n        return NONE;\r\n    }\r\n    else if (Math.abs(x) > Math.abs(y)) {\r\n        return 0 < x ? DIRECTION_RIGHT : DIRECTION_LEFT;\r\n    }\r\n    else {\r\n        return 0 < y ? DIRECTION_DOWN : DIRECTION_UP;\r\n    }\r\n});\n\nexport { getAngle, getCross, getDirection, getDotProduct, getRadian, getVLength, radianToAngle };\n","import { getAngle, radianToAngle, getVLength, getDirection } from '@any-touch/vector';\nimport { INPUT_START, INPUT_MOVE, CLIENT_X, CLIENT_Y, NONE, round2, COMPUTE_INTERVAL } from '@any-touch/shared';\n\nfunction computeAngle (_a) {\r\n    var startV = _a.startV, prevV = _a.prevV, activeV = _a.activeV;\r\n    var deltaAngle = Math.round(getAngle(activeV, prevV));\r\n    var angle = Math.round(getAngle(activeV, startV));\r\n    return { angle: angle, deltaAngle: deltaAngle };\r\n}\n\nfunction ComputeDeltaXY() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput;\r\n        var deltaX = 0;\r\n        var deltaY = 0;\r\n        var deltaXYAngle = 0;\r\n        if (void 0 !== prevInput) {\r\n            deltaX = input.x - prevInput.x;\r\n            deltaY = input.y - prevInput.y;\r\n            if (0 !== deltaX || 0 !== deltaY) {\r\n                var deltaXY = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n                deltaXYAngle = Math.round(radianToAngle(Math.acos(Math.abs(deltaX) / deltaXY)));\r\n            }\r\n        }\r\n        return { deltaX: deltaX, deltaY: deltaY, deltaXYAngle: deltaXYAngle };\r\n    };\r\n}\r\nComputeDeltaXY._id = \"ComputeDeltaXY\";\n\nfunction computeDistance() {\r\n    var displacementX = 0;\r\n    var displacementY = 0;\r\n    var distanceX = 0;\r\n    var distanceY = 0;\r\n    var distance = 0;\r\n    var overallDirection = NONE;\r\n    return function (input) {\r\n        var inputType = input.inputType, startInput = input.startInput;\r\n        if (INPUT_START === inputType) {\r\n            displacementX = 0;\r\n            displacementY = 0;\r\n            distanceX = 0;\r\n            distanceY = 0;\r\n            distance = 0;\r\n            overallDirection = NONE;\r\n        }\r\n        else if (INPUT_MOVE === inputType) {\r\n            displacementX = Math.round(input.points[0][CLIENT_X] - startInput.points[0][CLIENT_X]);\r\n            displacementY = Math.round(input.points[0][CLIENT_Y] - startInput.points[0][CLIENT_Y]);\r\n            distanceX = Math.abs(displacementX);\r\n            distanceY = Math.abs(displacementY);\r\n            distance = Math.round(getVLength({ x: distanceX, y: distanceY }));\r\n            overallDirection = getDirection(displacementX, displacementY);\r\n        }\r\n        return {\r\n            displacementX: displacementX, displacementY: displacementY, distanceX: distanceX, distanceY: distanceY, distance: distance, overallDirection: overallDirection\r\n        };\r\n    };\r\n}\r\ncomputeDistance._id = \"computeDistance\";\n\nfunction computeMaxLength() {\r\n    var maxPointLength = 0;\r\n    return function (input) {\r\n        var inputType = input.inputType;\r\n        if (INPUT_START === inputType) {\r\n            maxPointLength = input.pointLength;\r\n        }\r\n        return { maxPointLength: maxPointLength };\r\n    };\r\n}\r\ncomputeMaxLength._id = \"computeMaxLength\";\n\nfunction computeScale(_a) {\r\n    var startV = _a.startV, prevV = _a.prevV, activeV = _a.activeV;\r\n    var deltaScale = round2(getVLength(activeV) / getVLength(prevV));\r\n    var scale = round2(getVLength(activeV) / getVLength(startV));\r\n    return { scale: scale, deltaScale: deltaScale };\r\n}\n\nfunction ComputeVAndDir() {\r\n    var velocityX = 0;\r\n    var velocityY = 0;\r\n    var speedX = 0;\r\n    var speedY = 0;\r\n    var direction;\r\n    var _lastValidInput;\r\n    return function (input) {\r\n        if (void 0 !== input) {\r\n            var inputType = input.inputType;\r\n            _lastValidInput = _lastValidInput || input.startInput;\r\n            var deltaTime = input.timestamp - _lastValidInput.timestamp;\r\n            if (INPUT_MOVE === inputType && COMPUTE_INTERVAL < deltaTime) {\r\n                var deltaX = input.x - _lastValidInput.x;\r\n                var deltaY = input.y - _lastValidInput.y;\r\n                speedX = Math.round(deltaX / deltaTime * 100) / 100;\r\n                speedY = Math.round(deltaY / deltaTime * 100) / 100;\r\n                velocityX = Math.abs(speedX);\r\n                velocityY = Math.abs(speedY);\r\n                direction = getDirection(deltaX, deltaY) || (direction);\r\n                _lastValidInput = input;\r\n            }\r\n        }\r\n        return { velocityX: velocityX, velocityY: velocityY, speedX: speedX, speedY: speedY, direction: direction };\r\n    };\r\n}\r\nComputeVAndDir._id = \"ComputeVAndDir\";\n\nfunction computeVector(input) {\r\n    return {\r\n        x: input.points[1][CLIENT_X] - input.points[0][CLIENT_X],\r\n        y: input.points[1][CLIENT_Y] - input.points[0][CLIENT_Y]\r\n    };\r\n}\n\nfunction ComputeVectorForMutli() {\r\n    return function (input) {\r\n        var prevInput = input.prevInput, startMultiInput = input.startMultiInput;\r\n        if (void 0 !== startMultiInput &&\r\n            void 0 !== prevInput &&\r\n            input.id !== startMultiInput.id &&\r\n            1 < prevInput.pointLength &&\r\n            1 < input.pointLength) {\r\n            return {\r\n                startV: computeVector(startMultiInput),\r\n                prevV: computeVector(prevInput),\r\n                activeV: computeVector(input)\r\n            };\r\n        }\r\n    };\r\n}\r\nComputeVectorForMutli._id = \"ComputeVectorForMutli\";\n\nexport { ComputeDeltaXY, computeDistance as ComputeDistance, computeMaxLength as ComputeMaxLength, ComputeVAndDir, ComputeVectorForMutli, computeAngle, computeScale, computeVector };\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END, STATUS_POSSIBLE, STATUS_RECOGNIZED, STATUS_FAILED } from '@any-touch/shared';\nimport Recognizer from '@any-touch/recognizer';\nimport { getVLength } from '@any-touch/vector';\nimport { ComputeMaxLength, ComputeDistance } from '@any-touch/compute';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'tap',\r\n    pointLength: 1,\r\n    tapTimes: 1,\r\n    waitNextTapTime: 300,\r\n    maxDistance: 2,\r\n    maxDistanceFromPrevTap: 9,\r\n    maxPressTime: 250,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n        _this.tapCount = 0;\r\n        return _this;\r\n    }\r\n    default_1.prototype._isValidDistanceFromPrevTap = function (center) {\r\n        if (void 0 !== this.prevTapPoint) {\r\n            var distanceFromPreviousTap = getVLength({ x: center.x - this.prevTapPoint.x, y: center.y - this.prevTapPoint.y });\r\n            this.prevTapPoint = center;\r\n            return this.options.maxDistanceFromPrevTap >= distanceFromPreviousTap;\r\n        }\r\n        else {\r\n            this.prevTapPoint = center;\r\n            return true;\r\n        }\r\n    };\r\n    default_1.prototype._isValidInterval = function () {\r\n        var now = performance.now();\r\n        if (void 0 === this.prevTapTime) {\r\n            this.prevTapTime = now;\r\n            return true;\r\n        }\r\n        else {\r\n            var interval = now - this.prevTapTime;\r\n            this.prevTapTime = now;\r\n            return interval < this.options.waitNextTapTime;\r\n        }\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var inputType = input.inputType, x = input.x, y = input.y;\r\n        this.computed = this.compute([ComputeMaxLength, ComputeDistance], input);\r\n        if (INPUT_END !== inputType)\r\n            return;\r\n        this.status = STATUS_POSSIBLE;\r\n        if (this.test(input)) {\r\n            this.cancelCountDownToFail();\r\n            if (this._isValidDistanceFromPrevTap({ x: x, y: y }) && this._isValidInterval()) {\r\n                this.tapCount++;\r\n            }\r\n            else {\r\n                this.tapCount = 1;\r\n            }\r\n            if (0 === this.tapCount % this.options.tapTimes) {\r\n                this.status = STATUS_RECOGNIZED;\r\n                emit(this.options.name, __assign(__assign({}, this.computed), { tapCount: this.tapCount }));\r\n                this.reset();\r\n            }\r\n            else {\r\n                this.countDownToFail();\r\n            }\r\n        }\r\n        else {\r\n            this.reset();\r\n            this.status = STATUS_FAILED;\r\n        }\r\n    };\r\n    default_1.prototype.countDownToFail = function () {\r\n        var _this = this;\r\n        this._countDownToFailTimer = setTimeout(function () {\r\n            _this.status = STATUS_FAILED;\r\n            _this.reset();\r\n        }, this.options.waitNextTapTime);\r\n    };\r\n    default_1.prototype.cancelCountDownToFail = function () {\r\n        clearTimeout(this._countDownToFailTimer);\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        this.tapCount = 0;\r\n        this.prevTapPoint = void 0;\r\n        this.prevTapTime = void 0;\r\n    };\r\n    default_1.prototype.test = function (input) {\r\n        var startInput = input.startInput, pointLength = input.pointLength;\r\n        var deltaTime = input.timestamp - startInput.timestamp;\r\n        var _a = this.computed, maxPointLength = _a.maxPointLength, distance = _a.distance;\r\n        return maxPointLength === this.options.pointLength &&\r\n            0 === pointLength &&\r\n            this.options.maxDistance >= distance &&\r\n            this.options.maxPressTime > deltaTime;\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVAndDir, ComputeDistance, ComputeDeltaXY } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pan',\r\n    threshold: 10,\r\n    pointLength: 1\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var distance = this.computed.distance;\r\n        return ((this.isRecognized || this.options.threshold <= distance) &&\r\n            this.isValidPointLength(pointLength));\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        this.computed = this.compute([ComputeVAndDir, ComputeDistance, ComputeDeltaXY], input);\r\n        var isRecognized = void 0 !== this.computed.direction && recognizeForPressMoveLike(this, input, emit);\r\n        if (isRecognized) {\r\n            emit(this.options.name + this.computed.direction, this.computed);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_END } from '@any-touch/shared';\nimport { ComputeMaxLength, ComputeVAndDir, ComputeDistance } from '@any-touch/compute';\nimport Recognizer from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'swipe',\r\n    threshold: 10,\r\n    velocity: 0.3,\r\n    pointLength: 1,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var inputType = input.inputType;\r\n        if (INPUT_END !== inputType)\r\n            return false;\r\n        var _a = this.computed, velocityX = _a.velocityX, velocityY = _a.velocityY, maxPointLength = _a.maxPointLength, distance = _a.distance;\r\n        return this.options.pointLength === maxPointLength &&\r\n            this.options.threshold < distance &&\r\n            this.options.velocity < Math.max(velocityX, velocityY);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        this.computed = this.compute([ComputeMaxLength, ComputeVAndDir, ComputeDistance], input);\r\n        if (this.test(input)) {\r\n            emit(this.options.name, this.computed);\r\n            emit(this.options.name + this.computed.direction, this.computed);\r\n        }\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { INPUT_START, STATUS_RECOGNIZED, INPUT_END, DIRECTION_UP, INPUT_CANCEL, STATUS_FAILED } from '@any-touch/shared';\nimport { ComputeDistance } from '@any-touch/compute';\nimport Recognizer, { resetStatusForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'press',\r\n    pointLength: 1,\r\n    maxDistance: 9,\r\n    minPressTime: 251,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var _this = this;\r\n        var inputType = input.inputType, startInput = input.startInput, pointLength = input.pointLength;\r\n        if (INPUT_START === inputType && this.isValidPointLength(pointLength)) {\r\n            resetStatusForPressMoveLike(this);\r\n            this.cancel();\r\n            this._timeoutId = setTimeout(function () {\r\n                _this.status = STATUS_RECOGNIZED;\r\n                emit(_this.options.name, input);\r\n            }, this.options.minPressTime);\r\n        }\r\n        else if (INPUT_END === inputType && STATUS_RECOGNIZED === this.status) {\r\n            emit(\"\" + this.options.name + DIRECTION_UP, this.computed);\r\n        }\r\n        else if (STATUS_RECOGNIZED !== this.status) {\r\n            var deltaTime = input.timestamp - startInput.timestamp;\r\n            if (!this.test(input) ||\r\n                (this.options.minPressTime > deltaTime && [INPUT_END, INPUT_CANCEL].includes(inputType))) {\r\n                this.cancel();\r\n                this.status = STATUS_FAILED;\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.test = function (input) {\r\n        this.computed = this.compute([ComputeDistance], input);\r\n        var distance = this.computed.distance;\r\n        return this.options.maxDistance > distance;\r\n    };\r\n    default_1.prototype.cancel = function () {\r\n        clearTimeout(this._timeoutId);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVectorForMutli, computeScale } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'pinch',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var scale = this.computed.scale;\r\n        return this.isValidPointLength(pointLength)\r\n            && void 0 !== scale\r\n            && (this.options.threshold < Math.abs(scale - 1) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var computed = this.compute([ComputeVectorForMutli], input);\r\n        if (\"activeV\" in computed) {\r\n            this.computed = __assign(__assign({}, this.computed), computeScale(computed));\r\n        }\r\n        recognizeForPressMoveLike(this, input, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import { __extends, __assign } from 'tslib';\nimport { ComputeVectorForMutli, computeAngle } from '@any-touch/compute';\nimport Recognizer, { recognizeForPressMoveLike } from '@any-touch/recognizer';\n\nvar DEFAULT_OPTIONS = {\r\n    name: 'rotate',\r\n    threshold: 0,\r\n    pointLength: 2,\r\n};\r\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        return _super.call(this, __assign(__assign({}, DEFAULT_OPTIONS), options)) || this;\r\n    }\r\n    default_1.prototype.test = function (input) {\r\n        var pointLength = input.pointLength;\r\n        var angle = this.computed.angle;\r\n        return this.isValidPointLength(pointLength) && (this.options.threshold < Math.abs(angle) || this.isRecognized);\r\n    };\r\n    default_1.prototype.recognize = function (input, emit) {\r\n        var computed = this.compute([ComputeVectorForMutli], input);\r\n        if (\"activeV\" in computed) {\r\n            this.computed = __assign(__assign({}, this.computed), computeAngle(computed));\r\n        }\r\n        recognizeForPressMoveLike(this, input, emit);\r\n    };\r\n    return default_1;\r\n}(Recognizer));\n\nexport default default_1;\n","import AnyTouch from '@any-touch/core';\nimport Tap from '@any-touch/tap';\nimport Pan from '@any-touch/pan';\nimport Swipe from '@any-touch/swipe';\nimport Press from '@any-touch/press';\nimport Pinch from '@any-touch/pinch';\nimport Rotate from '@any-touch/rotate';\nimport { STATUS_POSSIBLE, STATUS_START, STATUS_MOVE, STATUS_END, STATUS_CANCELLED, STATUS_FAILED, STATUS_RECOGNIZED } from '@any-touch/shared';\n\nAnyTouch.use(Tap);\r\nAnyTouch.use(Pan);\r\nAnyTouch.use(Swipe);\r\nAnyTouch.use(Press);\r\nAnyTouch.use(Pinch);\r\nAnyTouch.use(Rotate);\r\nAnyTouch.Tap = Tap;\r\nAnyTouch.Pan = Pan;\r\nAnyTouch.Swipe = Swipe;\r\nAnyTouch.Press = Press;\r\nAnyTouch.Pinch = Pinch;\r\nAnyTouch.Rotate = Rotate;\r\nAnyTouch.STATUS_POSSIBLE = STATUS_POSSIBLE;\r\nAnyTouch.STATUS_START = STATUS_START;\r\nAnyTouch.STATUS_MOVE = STATUS_MOVE;\r\nAnyTouch.STATUS_END = STATUS_END;\r\nAnyTouch.STATUS_CANCELLED = STATUS_CANCELLED;\r\nAnyTouch.STATUS_FAILED = STATUS_FAILED;\r\nAnyTouch.STATUS_RECOGNIZED = STATUS_RECOGNIZED;\n\nexport default AnyTouch;\n","import { __values } from 'tslib';\n\nvar default_1 = (function () {\r\n    function default_1() {\r\n        this.listenersMap = {};\r\n    }\r\n    default_1.prototype.on = function (eventName, listener, beforeEmit) {\r\n        var e_1, _a;\r\n        var eventNames = Array.isArray(eventName) ? eventName : [eventName];\r\n        try {\r\n            for (var eventNames_1 = __values(eventNames), eventNames_1_1 = eventNames_1.next(); !eventNames_1_1.done; eventNames_1_1 = eventNames_1.next()) {\r\n                var name = eventNames_1_1.value;\r\n                if (void 0 === this.listenersMap[name]) {\r\n                    this.listenersMap[name] = [];\r\n                }\r\n                listener.beforeEmit = beforeEmit;\r\n                this.listenersMap[name].push(listener);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (eventNames_1_1 && !eventNames_1_1.done && (_a = eventNames_1.return)) _a.call(eventNames_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return this;\r\n    };\r\n    default_1.prototype.emit = function (eventName, payload) {\r\n        var e_2, _a;\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners && 0 < listeners.length) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    if (void 0 === listener.beforeEmit) {\r\n                        listener(payload);\r\n                    }\r\n                    else if (void 0 !== payload && listener.beforeEmit(payload)) {\r\n                        listener(payload);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.off = function (eventName, listener) {\r\n        var listeners = this.listenersMap[eventName];\r\n        if (void 0 !== listeners) {\r\n            if (void 0 === listener) {\r\n                delete this.listenersMap[eventName];\r\n            }\r\n            else {\r\n                var index = listeners.findIndex(function (fn) { return fn === listener; });\r\n                listeners.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    default_1.prototype.destroy = function () {\r\n        this.listenersMap = {};\r\n    };\r\n    return default_1;\r\n}());\n\nexport default default_1;\n","var cache = {};\r\nfunction _isImage(image) {\r\n    return '[object HTMLImageElement]' === Object.prototype.toString.call(image);\r\n}\r\nfunction loadImage(url) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (_isImage(url)) {\r\n            resolve(url);\r\n        }\r\n        else if (/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(url)) {\r\n            var canvas = document.createElement('canvas');\r\n            canvas.width = 1;\r\n            canvas.height = 1;\r\n            var context = canvas.getContext('2d');\r\n            context.fillStyle = url;\r\n            context.fillRect(0, 0, 1, 1);\r\n            loadImage(canvas.toDataURL()).then(resolve);\r\n        }\r\n        else {\r\n            if (cache[url]) {\r\n                resolve(cache[url]);\r\n                return;\r\n            }\r\n            var img_1 = new Image();\r\n            img_1.setAttribute(\"crossOrigin\", 'Anonymous');\r\n            img_1.onload = function () {\r\n                cache[url] = img_1;\r\n                resolve(img_1);\r\n            };\r\n            img_1.onerror = reject;\r\n            img_1.src = url;\r\n        }\r\n    });\r\n}\n\nexport default loadImage;\n//# sourceMappingURL=index.es.js.map\n",null,"import { __extends, __awaiter, __generator, __values, __read } from 'tslib';\nimport AnyEvent from 'any-event';\nimport loadImage from '@photo-touch/load-image';\n\nvar default_1 = (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(el, width, height) {\r\n        if (width === void 0) { width = 400; }\r\n        if (height === void 0) { height = 300; }\r\n        var _this = _super.call(this) || this;\r\n        _this.canvasWidth = 0;\r\n        _this.canvasHeight = 0;\r\n        _this.org = [0, 0];\r\n        _this.angle = 0;\r\n        _this.scale = 1;\r\n        _this.overlayImages = [];\r\n        _this.backgroundImages = [];\r\n        _this.imgWidth = 0;\r\n        _this.imgHeight = 0;\r\n        _this.offsetInOA = [0, 0];\r\n        _this.offsetInOB = [0, 0];\r\n        _this._timeout = -1;\r\n        el.width = width;\r\n        el.height = height;\r\n        _this.canvasWidth = width;\r\n        _this.canvasHeight = height;\r\n        _this.canvas = el;\r\n        _this.context = _this.canvas.getContext('2d');\r\n        return _this;\r\n    }\r\n    Object.defineProperty(default_1.prototype, \"rad\", {\r\n        get: function () {\r\n            return this.angle * Math.PI / 180;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    default_1.prototype.render = function () {\r\n        var _this = this;\r\n        clearTimeout(this._timeout);\r\n        this._timeout = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, context, canvasWidth, canvasHeight, org, rad, offsetInOB, scale, img, imgWidth, imgHeight, _b, _c, backgroundImage, _d, _e, overlayImage;\r\n            var e_1, _f, e_2, _g;\r\n            return __generator(this, function (_h) {\r\n                if (null == this.context || !this.img || 0 === this.canvasWidth || 0 === this.canvasHeight)\r\n                    return [2];\r\n                _a = this, context = _a.context, canvasWidth = _a.canvasWidth, canvasHeight = _a.canvasHeight, org = _a.org, rad = _a.rad, offsetInOB = _a.offsetInOB, scale = _a.scale, img = _a.img, imgWidth = _a.imgWidth, imgHeight = _a.imgHeight;\r\n                context.clearRect(0, 0, canvasWidth, canvasHeight);\r\n                this.drawChessboard(context);\r\n                try {\r\n                    for (_b = __values(this.backgroundImages), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                        backgroundImage = _c.value;\r\n                        context.drawImage(backgroundImage, 0, 0, this.canvasWidth, this.canvasHeight);\r\n                    }\r\n                }\r\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (_c && !_c.done && (_f = _b.return)) _f.call(_b);\r\n                    }\r\n                    finally { if (e_1) throw e_1.error; }\r\n                }\r\n                context.save();\r\n                context.translate(org[0], org[1]);\r\n                context.scale(scale, scale);\r\n                context.rotate(rad);\r\n                context.drawImage(img, 0, 0, img.width, img.height, offsetInOB[0], offsetInOB[1], imgWidth, imgHeight);\r\n                if ('development' === process.env.NODE_ENV) {\r\n                    context.fillStyle = '#d10';\r\n                    context.fillRect(-30 / scale, -30 / scale, 60 / scale, 60 / scale);\r\n                }\r\n                context.restore();\r\n                try {\r\n                    for (_d = __values(this.overlayImages), _e = _d.next(); !_e.done; _e = _d.next()) {\r\n                        overlayImage = _e.value;\r\n                        context.drawImage(overlayImage, 0, 0, this.canvasWidth, this.canvasHeight);\r\n                    }\r\n                }\r\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (_e && !_e.done && (_g = _d.return)) _g.call(_d);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                }\r\n                this.emit('transform', {\r\n                    offset: this.offsetInOA,\r\n                    scale: this.scale,\r\n                    angle: this.angle,\r\n                    org: this.org\r\n                });\r\n                return [2];\r\n            });\r\n        }); }, 0);\r\n    };\r\n    default_1.prototype.changeOrg = function (org) {\r\n        this.org = org;\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.render();\r\n    };\r\n    default_1.prototype.changeOverlay = function () {\r\n        var overlays = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            overlays[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var overlays_1, overlays_1_1, overlay, _a, _b, e_3_1;\r\n            var e_3, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        this.overlayImages = [];\r\n                        _d.label = 1;\r\n                    case 1:\r\n                        _d.trys.push([1, 6, 7, 8]);\r\n                        overlays_1 = __values(overlays), overlays_1_1 = overlays_1.next();\r\n                        _d.label = 2;\r\n                    case 2:\r\n                        if (!!overlays_1_1.done) return [3, 5];\r\n                        overlay = overlays_1_1.value;\r\n                        _b = (_a = this.overlayImages).push;\r\n                        return [4, loadImage(overlay)];\r\n                    case 3:\r\n                        _b.apply(_a, [_d.sent()]);\r\n                        _d.label = 4;\r\n                    case 4:\r\n                        overlays_1_1 = overlays_1.next();\r\n                        return [3, 2];\r\n                    case 5: return [3, 8];\r\n                    case 6:\r\n                        e_3_1 = _d.sent();\r\n                        e_3 = { error: e_3_1 };\r\n                        return [3, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (overlays_1_1 && !overlays_1_1.done && (_c = overlays_1.return)) _c.call(overlays_1);\r\n                        }\r\n                        finally { if (e_3) throw e_3.error; }\r\n                        return [7];\r\n                    case 8:\r\n                        this.render();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    default_1.prototype.changeBackground = function () {\r\n        var backgrounds = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            backgrounds[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var backgrounds_1, backgrounds_1_1, background, _a, _b, e_4_1;\r\n            var e_4, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        this.backgroundImages = [];\r\n                        _d.label = 1;\r\n                    case 1:\r\n                        _d.trys.push([1, 6, 7, 8]);\r\n                        backgrounds_1 = __values(backgrounds), backgrounds_1_1 = backgrounds_1.next();\r\n                        _d.label = 2;\r\n                    case 2:\r\n                        if (!!backgrounds_1_1.done) return [3, 5];\r\n                        background = backgrounds_1_1.value;\r\n                        _b = (_a = this.backgroundImages).push;\r\n                        return [4, loadImage(background)];\r\n                    case 3:\r\n                        _b.apply(_a, [_d.sent()]);\r\n                        _d.label = 4;\r\n                    case 4:\r\n                        backgrounds_1_1 = backgrounds_1.next();\r\n                        return [3, 2];\r\n                    case 5: return [3, 8];\r\n                    case 6:\r\n                        e_4_1 = _d.sent();\r\n                        e_4 = { error: e_4_1 };\r\n                        return [3, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (backgrounds_1_1 && !backgrounds_1_1.done && (_c = backgrounds_1.return)) _c.call(backgrounds_1);\r\n                        }\r\n                        finally { if (e_4) throw e_4.error; }\r\n                        return [7];\r\n                    case 8:\r\n                        this.render();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    default_1.prototype.changeImg = function (img) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this;\r\n                        return [4, loadImage(img)];\r\n                    case 1:\r\n                        _a.img = _b.sent();\r\n                        this.reset();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    default_1.prototype.reset = function () {\r\n        if (!this.img)\r\n            return;\r\n        this.changeOrg([this.canvasWidth / 2, this.canvasHeight / 2]);\r\n        var _a = this.getCenterRectOffsetTopLeft(this.img.width, this.img.height, this.canvasWidth, this.canvasHeight), top = _a.top, left = _a.left, width = _a.width, height = _a.height;\r\n        this.offsetInOA = [left, top];\r\n        this.scale = 1;\r\n        this.angle = 0;\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.imgWidth = width;\r\n        this.imgHeight = height;\r\n        this.render();\r\n    };\r\n    default_1.prototype.move = function (dx, dy) {\r\n        var _a = __read(this.offsetInOA, 2), x = _a[0], y = _a[1];\r\n        this.moveTo(x + dx, y + dy);\r\n        return this.offsetInOA;\r\n    };\r\n    default_1.prototype.moveTo = function (x, y) {\r\n        this.offsetInOA = [x, y];\r\n        this.offsetInOB = this.switchToOB(this.offsetInOA);\r\n        this.render();\r\n    };\r\n    default_1.prototype.changeOrgToImageCenter = function () {\r\n        var newOrgInOB = [this.offsetInOB[0] + this.imgWidth / 2, this.offsetInOB[1] + this.imgHeight / 2];\r\n        var orgInOA = this.switchToOA(newOrgInOB);\r\n        this.changeOrg(orgInOA);\r\n    };\r\n    default_1.prototype.rotate = function (deltaAngle, org) {\r\n        this.rotateTo(this.angle + deltaAngle, org);\r\n        return this.angle;\r\n    };\r\n    default_1.prototype.rotateTo = function (angle, org) {\r\n        if (void 0 === org) {\r\n            this.changeOrgToImageCenter();\r\n        }\r\n        else {\r\n            this.org = org;\r\n        }\r\n        this.angle = angle;\r\n        this.offsetInOA = this.switchToOA(this.offsetInOB);\r\n        this.render();\r\n    };\r\n    default_1.prototype.zoom = function (deltaScale, org) {\r\n        this.zoomTo(this.scale * deltaScale, org);\r\n        return this.scale;\r\n    };\r\n    default_1.prototype.zoomTo = function (scale, org) {\r\n        if (void 0 === org) {\r\n            this.changeOrgToImageCenter();\r\n        }\r\n        else {\r\n            this.org = org;\r\n        }\r\n        this.scale = scale;\r\n        this.offsetInOA = this.switchToOA(this.offsetInOB);\r\n        this.render();\r\n    };\r\n    default_1.prototype.switchToOB = function (_a) {\r\n        var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n        var _c = this, rad = _c.rad, scale = _c.scale, org = _c.org;\r\n        var dx = x - org[0];\r\n        var dy = y - org[1];\r\n        return [\r\n            (Math.cos(rad) * dx + Math.sin(rad) * dy) / scale,\r\n            (-Math.sin(rad) * dx + Math.cos(rad) * dy) / scale,\r\n        ];\r\n    };\r\n    default_1.prototype.switchToOA = function (_a) {\r\n        var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n        var _c = this, rad = _c.rad, scale = _c.scale, org = _c.org;\r\n        return [\r\n            (Math.cos(rad) * x - Math.sin(rad) * y) * scale + org[0],\r\n            (Math.sin(rad) * x + Math.cos(rad) * y) * scale + org[1],\r\n        ];\r\n    };\r\n    default_1.prototype.drawChessboard = function (context) {\r\n        var count = [24, Math.ceil((24 * this.canvasHeight) / this.canvasWidth)];\r\n        var size = this.canvasWidth / count[0];\r\n        context.save();\r\n        var color = '#ddd';\r\n        var rowStartColor = color;\r\n        for (var i = 0; i <= count[0]; i++) {\r\n            for (var j = 0; j < count[1]; j++) {\r\n                context.fillStyle = color;\r\n                var x = 0 + size * i;\r\n                var y = 0 + size * j;\r\n                context.fillRect(x, y, size, size);\r\n                color = '#ddd' === color ? '#fff' : '#ddd';\r\n            }\r\n            rowStartColor = '#ddd' === color ? '#fff' : '#ddd';\r\n            color = rowStartColor;\r\n        }\r\n        context.stroke();\r\n        context.restore();\r\n    };\r\n    default_1.prototype.getCenterRectOffsetTopLeft = function (width, height, canvasWidth, canvasHeight) {\r\n        var rate = [width / canvasWidth, height / canvasHeight];\r\n        if (rate[0] > rate[1]) {\r\n            var newHeight = Math.floor((canvasWidth * height) / width);\r\n            return {\r\n                width: canvasWidth,\r\n                height: newHeight,\r\n                top: (canvasHeight - newHeight) / 2,\r\n                left: 0,\r\n            };\r\n        }\r\n        else {\r\n            var newWidth = Math.floor((canvasHeight * width) / height);\r\n            return {\r\n                width: newWidth,\r\n                height: canvasHeight,\r\n                top: 0,\r\n                left: (canvasWidth - newWidth) / 2,\r\n            };\r\n        }\r\n    };\r\n    return default_1;\r\n}(AnyEvent));\n\nexport default default_1;\n//# sourceMappingURL=index.es.js.map\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoTouch.vue?vue&type=style&index=0&scope=true&lang=scss&\"","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"button-load-file\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},on:{\"change\":_vm.onChange}}),_vm._t(\"default\",[_vm._v(\"Upload\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const cache = {};\r\nexport default function(url) {\r\n    return new Promise((resolve, reject) => {\r\n        if (cache[url]) {\r\n            resolve(cache[url]);\r\n            return;\r\n        }\r\n\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            cache[url] = img;\r\n            resolve(img);\r\n        };\r\n        img.onerror = reject;\r\n        img.src = url;\r\n    });\r\n}","<template>\r\n    <label class=\"button-load-file\">\r\n        <input type=\"file\" accept=\"image/*\" multiple @change=\"onChange\" />\r\n        <slot>Upload</slot>\r\n    </label>\r\n</template>\r\n\r\n<script>\r\n// 114 72\r\nimport loadImage from './loadImage';\r\nexport default {\r\n    name: 'ButtonLoadFile',\r\n\r\n    props: {\r\n        cropSize: {\r\n            type: Array,\r\n            default: () => [426, 269]\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        // 目标裁剪比例\r\n        cropRate() {\r\n            return this.cropSize[0] / this.cropSize[1];\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return { url: '' };\r\n    },\r\n\r\n    methods: {\r\n        readFile(file) {\r\n            return new Promise((resolve, reject) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = async (e) => {\r\n                    const img = await loadImage(e.target.result);\r\n                    const { width, height } = img;\r\n                    const crop = this.crop(img);\r\n                    resolve({ source: {fileName:file.name, url: e.target.result, img, width, height }, crop });\r\n                };\r\n\r\n                reader.onerror = reject;\r\n            });\r\n        },\r\n\r\n        async onChange(e) {\r\n            const { target } = e;\r\n            const { files } = target;\r\n            const array = Array.from(files);\r\n            if (0 < array.length) {\r\n                const data = await Promise.all(array.map(async (file) => this.readFile(file)));\r\n                this.$emit('loaded', data);\r\n            } else {\r\n                this.$emit('reset');\r\n            }\r\n        },\r\n\r\n        crop(img) {\r\n            const el = document.createElement('canvas');\r\n            const context = el.getContext('2d');\r\n            const { width, height } = img;\r\n\r\n            const rate = width / height;\r\n            // 从元素选取的起点和宽高\r\n            let sourceWidth = width;\r\n            let sourceHeight = height;\r\n            let sourceY = 0;\r\n            let sourceX = 0;\r\n            let cropAxis = 'x';\r\n            // 以宽度为基准, 裁剪高度\r\n            if (this.cropRate > rate) {\r\n                cropAxis = 'y';\r\n                sourceHeight = sourceWidth / this.cropRate;\r\n                sourceY = (height - sourceHeight) / 2;\r\n            }\r\n            // 以高度为基准, 裁剪宽度\r\n            else {\r\n                sourceWidth = sourceHeight * this.cropRate;\r\n                sourceX = (width - sourceWidth) / 2;\r\n            }\r\n            // console.clear();\r\n            // console.log({ sourceX, sourceY, sourceWidth, sourceHeight }, width, height);\r\n            el.width = this.cropSize[0];\r\n            el.height = this.cropSize[1];\r\n            const args = [img, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, this.cropSize[0], this.cropSize[1]];\r\n            context.drawImage(...args);\r\n            const url = el.toDataURL();\r\n            return {\r\n                url,\r\n                x: sourceX,\r\n                y: sourceY,\r\n                width: sourceWidth,\r\n                height: sourceHeight,\r\n                cropAxis,\r\n                cropRate: this.cropRate,\r\n                args\r\n            };\r\n            // console.log(dataURL);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\n.button-load-file {\r\n    padding: 16px 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    background: rgb(15, 147, 208);\r\n    color: #fff;\r\n    display: inline-block;\r\n    &:hover {\r\n        cursor: pointer;\r\n    }\r\n    > input[type='file'] {\r\n        display: none;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLoadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ButtonLoadFile.vue?vue&type=template&id=425a5900&\"\nimport script from \"./ButtonLoadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./ButtonLoadFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ButtonLoadFile.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}